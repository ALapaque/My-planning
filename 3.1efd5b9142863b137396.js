(self.webpackChunkMy_planning=self.webpackChunkMy_planning||[]).push([[3],{4546:(e,t,n)=>{"use strict";n.d(t,{Yg:()=>f});var i=n(5366),s=n(9861),a=n(5959),r=n(3080),o=n(7930),l=n(8318),c=n(611),u=n(4698),h=n(7701),d=n(9996),p=n(6238),m=n(5416),g=n(3169);const v=new Set;let S,A=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):T}matchMedia(e){return this._platform.WEBKIT&&function(e){if(!v.has(e))try{S||(S=document.createElement("style"),S.setAttribute("type","text/css"),document.head.appendChild(S)),S.sheet&&(S.sheet.insertRule(`@media ${e} {.fx-query-test{ }}`,0),v.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(g.t4))},e.\u0275prov=(0,i.Yz7)({factory:function(){return new e((0,i.LFG)(g.t4))},token:e,providedIn:"root"}),e})();function T(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let f=(()=>{class e{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new a.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _((0,s.Eq)(e)).some(e=>this._registerQuery(e).mql.matches)}observe(e){const t=_((0,s.Eq)(e)).map(e=>this._registerQuery(e).observable);let n=(0,r.aj)(t);return n=(0,o.z)(n.pipe((0,c.q)(1)),n.pipe((0,u.T)(1),(0,h.b)(0))),n.pipe((0,d.U)(e=>{const t={matches:!1,breakpoints:{}};return e.forEach(({matches:e,query:n})=>{t.matches=t.matches||e,t.breakpoints[n]=e}),t}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),n={observable:new l.y(e=>{const n=t=>this._zone.run(()=>e.next(t));return t.addListener(n),()=>{t.removeListener(n)}}).pipe((0,p.O)(t),(0,d.U)(({matches:t})=>({query:e,matches:t})),(0,m.R)(this._destroySubject)),mql:t};return this._queries.set(e,n),n}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(A),i.LFG(i.R0b))},e.\u0275prov=(0,i.Yz7)({factory:function(){return new e((0,i.LFG)(A),(0,i.LFG)(i.R0b))},token:e,providedIn:"root"}),e})();function _(e){return e.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}},1948:(e,t,n)=>{"use strict";function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>i})},6941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(1948),s=n(5090),a=n(6280);function r(e,t){(0,a.Z)(2,arguments);var n=(0,s.Z)(e).getTime(),r=(0,i.Z)(t);return new Date(n+r)}var o=36e5;function l(e,t){(0,a.Z)(2,arguments);var n=(0,i.Z)(t);return r(e,n*o)}},8125:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(5090),s=n(6280);function a(e){(0,s.Z)(1,arguments);var t=(0,i.Z)(e);return t.setHours(23,59,59,999),t}},2445:(e,t,n)=>{"use strict";n.d(t,{P:()=>y});var i=n(2693),s=n(5090),a=n(1948),r=n(6280);function o(e,t){(0,r.Z)(1,arguments);var n=t||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,l=null==o?0:(0,a.Z)(o),c=null==n.weekStartsOn?l:(0,a.Z)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,s.Z)(e),h=u.getDay(),d=(h<c?7:0)+h-c;return u.setDate(u.getDate()-d),u.setHours(0,0,0,0),u}function l(e,t){(0,r.Z)(1,arguments);var n=t||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,l=null==o?0:(0,a.Z)(o),c=null==n.weekStartsOn?l:(0,a.Z)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,s.Z)(e),h=u.getDay(),d=6+(h<c?-7:0)-(h-c);return u.setDate(u.getDate()+d),u.setHours(23,59,59,999),u}function c(e){(0,r.Z)(1,arguments);var t=(0,s.Z)(e);return t.setDate(1),t.setHours(0,0,0,0),t}function u(e){(0,r.Z)(1,arguments);var t=(0,s.Z)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function h(e){(0,r.Z)(1,arguments);var t=(0,s.Z)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function d(e){(0,r.Z)(1,arguments);var t=(0,s.Z)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}var p=n(205),m=n(8125),g=n(878),v=n(9996),S=n(4019),A=n(7727),T=n(529),f=n(8498),_=n(2995),b=n(5366),Z=n(7240),D=n(3973),E=n(3492),w=n(649);let y=(()=>{class e{constructor(e,t,n,i,s){this._http=e,this._agendaHelperService=t,this._authService=n,this._taostrService=i,this._translateService=s,this._baseUrl=(0,T.U)()+"/event"}getEvents(){this._agendaHelperService.isAgendaLoading.next(!0);const e=this._generateHttpParams,t=(new i.LE).set("userId",this._authService.user.id.toString(10)).set("startDate",e.startDate).set("endDate",e.endDate);return this._http.get(`${this._baseUrl}`,{params:t}).pipe((0,v.U)(e=>({dataSource:e.map(e=>_.m.transformIntoSchedulerEvent(e))})),(0,S.b)(()=>{this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.success(this._translateService.instant("APP.AGENDA.TOASTR.SUCCESS.GET_EVENTS"))}),(0,A.K)(e=>{throw this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.error(this._translateService.instant("APP.AGENDA.TOASTR.ERROR.GET_EVENTS")),(0,g.of)(e)}))}getById(e){return this._agendaHelperService.isAgendaLoading.next(!0),this._http.get(`${this._baseUrl}/${e.toString(10)}`).pipe((0,v.U)(e=>_.m.transformIntoSchedulerEvent(e)),(0,S.b)(()=>{this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.success(this._translateService.instant("APP.AGENDA.TOASTR.SUCCESS.GET_EVENT"))}),(0,A.K)(e=>{throw this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.error(this._translateService.instant("APP.AGENDA.TOASTR.ERROR.GET_EVENT")),(0,g.of)(e)}))}save(e){this._agendaHelperService.isAgendaLoading.next(!0);const t=f.j.transformIntoEvent(e);return(e.Id?this.update(t):this.create(t)).pipe((0,S.b)(()=>{this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.success(this._translateService.instant("APP.AGENDA.TOASTR.SUCCESS.SAVE"))}),(0,A.K)(e=>{throw this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.error(this._translateService.instant("APP.AGENDA.TOASTR.ERROR.SAVE")),(0,g.of)(e)}))}create(e){return this._http.post(`${this._baseUrl}`,e).pipe((0,v.U)(e=>_.m.transformIntoSchedulerEvent(e)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,v.U)(e=>_.m.transformIntoSchedulerEvent(e)))}delete(e){return this._agendaHelperService.isAgendaLoading.next(!0),this._http.delete(`${this._baseUrl}/${e.toString(10)}`).pipe((0,S.b)(()=>{this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.success(this._translateService.instant("APP.AGENDA.TOASTR.SUCCESS.DELETE")),this._agendaHelperService.ejsSchedule.deleteEvent(e)}),(0,A.K)(e=>{throw this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.error(this._translateService.instant("APP.AGENDA.TOASTR.DELETE.ERROR")),(0,g.of)(e)}))}get _generateHttpParams(){switch(this._agendaHelperService.currentViewDisplayed){case"Day":case"Agenda":case"TimelineDay":return{startDate:(0,p.Z)(this._agendaHelperService.viewDate).toISOString(),endDate:(0,m.Z)(this._agendaHelperService.viewDate).toISOString()};case"Week":case"WorkWeek":case"TimelineWeek":case"TimelineWorkWeek":return{startDate:o(this._agendaHelperService.viewDate).toISOString(),endDate:l(this._agendaHelperService.viewDate).toISOString()};case"Month":case"MonthAgenda":case"TimelineMonth":return{startDate:c(this._agendaHelperService.viewDate).toISOString(),endDate:u(this._agendaHelperService.viewDate).toISOString()};case"Year":case"TimelineYear":return{startDate:h(this._agendaHelperService.viewDate).toISOString(),endDate:d(this._agendaHelperService.viewDate).toISOString()}}}}return e.\u0275fac=function(t){return new(t||e)(b.LFG(i.eN),b.LFG(Z.U),b.LFG(D.e),b.LFG(E._W),b.LFG(w.sK))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac}),e})()},9261:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var i=n(8512),s=n(5366);let a=(()=>{class e{constructor(){this.isLoading$=new i.X(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},2995:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var i=n(6941),s=n(8498);class a{constructor(e){this.Id=0,this.Subject="",this.StartTime=(new Date).toISOString(),this.EndTime=(0,i.Z)(new Date,1).toISOString(),this.PrimaryColor="#1aaa7f",this.SecondaryColor="#aa811a",e?(Object.assign(this,e),e.Meta&&(this.Meta=new s.j(e.Meta),this.Meta.startDate=this.StartTime.toString(),this.Meta.endDate=this.EndTime.toString())):Object.create(this)}static transformIntoSchedulerEvent(e){return new a({Description:null,Subject:e.name,Id:e.id,StartTime:e.startDate,EndTime:e.endDate,SecondaryColor:e.agenda.color,Meta:new s.j(e)})}}},7240:(e,t,n)=>{"use strict";n.d(t,{U:()=>k});var i=n(8512),s=n(5090),a=n(1948),r=n(6280);function o(e){(0,r.Z)(1,arguments);var t=(0,s.Z)(e),n=t.getFullYear(),i=t.getMonth(),a=new Date(0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}function l(e,t){(0,r.Z)(2,arguments);var n=(0,s.Z)(e),i=(0,a.Z)(t),l=n.getFullYear(),c=n.getDate(),u=new Date(0);u.setFullYear(l,i,15),u.setHours(0,0,0,0);var h=o(u);return n.setMonth(i,Math.min(c,h)),n}function c(e,t){if((0,r.Z)(2,arguments),"object"!=typeof t||null===t)throw new RangeError("values parameter must be an object");var n=(0,s.Z)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=l(n,t.month)),null!=t.date&&n.setDate((0,a.Z)(t.date)),null!=t.hours&&n.setHours((0,a.Z)(t.hours)),null!=t.minutes&&n.setMinutes((0,a.Z)(t.minutes)),null!=t.seconds&&n.setSeconds((0,a.Z)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,a.Z)(t.milliseconds)),n)}var u=n(1041),h=n(6941),d=n(5366),p=n(5216),m=n(5651),g=n(1116),v=n(4546),S=n(5965),A=n(649);const T=["stepper"];let f=(()=>{class e{constructor(e){this.breakpointObserver=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(v.Yg))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-event-form-content"]],viewQuery:function(e,t){if(1&e&&d.Gf(T,5),2&e){let e;d.iGM(e=d.CRH())&&(t.nbStepper=e.first)}},inputs:{event:"event",form:"form"},decls:72,vars:78,consts:[[3,"formGroup"],[3,"orientation"],["stepper",""],[3,"label"],[3,"icon"],["fxLayout.lt-sm","column","fxLayoutAlign","start center","fxLayoutAlign.lt-sm","center start","fxLayoutGap","8px"],["placeholder","Select Showcase","multiple","",3,"status"],["value",""],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["nbInput","","fullWidth","",3,"status","nbDatepicker","formControlName"],[2,"display","none",3,"singleColumn","applyButtonText","currentTimeButtonText","step"],["startTimePicker",""],[2,"display","none",3,"applyButtonText","currentTimeButtonText","singleColumn","step"],["endTimePicker",""],[3,"status","formControlName"],["fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","start center","fxLayoutGap.gt-sm","16px",3,"name","status","formControlName"],[3,"value"]],template:function(e,t){if(1&e&&(d.TgZ(0,"form",0),d.TgZ(1,"nb-stepper",1,2),d.TgZ(3,"nb-step",3),d.ALo(4,"translate"),d.TgZ(5,"h6"),d._UZ(6,"nb-icon",4),d._uU(7),d.ALo(8,"translate"),d.qZA(),d.TgZ(9,"div",5),d.TgZ(10,"span"),d._uU(11),d.ALo(12,"translate"),d.qZA(),d.TgZ(13,"nb-select",6),d.TgZ(14,"nb-option",7),d._uU(15,"Option empty"),d.qZA(),d.TgZ(16,"nb-option",8),d._uU(17,"Option 0"),d.qZA(),d.TgZ(18,"nb-option",9),d._uU(19,"Option 1"),d.qZA(),d.TgZ(20,"nb-option",10),d._uU(21,"Option 2"),d.qZA(),d.TgZ(22,"nb-option",11),d._uU(23,"Option 3"),d.qZA(),d.TgZ(24,"nb-option",12),d._uU(25,"Option 4"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"nb-step",3),d.ALo(27,"translate"),d.TgZ(28,"h6"),d._UZ(29,"nb-icon",4),d._uU(30),d.ALo(31,"translate"),d.qZA(),d.TgZ(32,"div",5),d.TgZ(33,"span"),d._uU(34),d.ALo(35,"translate"),d.qZA(),d._UZ(36,"input",13),d._UZ(37,"nb-date-timepicker",14,15),d.ALo(39,"translate"),d.ALo(40,"translate"),d._UZ(41,"nb-timepicker"),d.qZA(),d.TgZ(42,"div",5),d.TgZ(43,"span"),d._uU(44),d.ALo(45,"translate"),d.qZA(),d._UZ(46,"input",13),d._UZ(47,"nb-date-timepicker",16,17),d.ALo(49,"translate"),d.ALo(50,"translate"),d.qZA(),d.qZA(),d.TgZ(51,"nb-step",3),d.ALo(52,"translate"),d.TgZ(53,"h6"),d._UZ(54,"nb-icon",4),d._uU(55),d.ALo(56,"translate"),d.qZA(),d.TgZ(57,"div",5),d.TgZ(58,"nb-checkbox",18),d._uU(59),d.ALo(60,"translate"),d.qZA(),d.qZA(),d.TgZ(61,"div",5),d.TgZ(62,"span"),d._uU(63),d.ALo(64,"translate"),d.qZA(),d.TgZ(65,"nb-radio-group",19),d.TgZ(66,"nb-radio",20),d._uU(67),d.ALo(68,"translate"),d.qZA(),d.TgZ(69,"nb-radio",20),d._uU(70),d.ALo(71,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.MAs(38),n=d.MAs(48);d.Q6J("formGroup",t.form),d.xp6(1),d.Q6J("orientation",t.breakpointObserver.isMatched("(max-width: 960px)")?"horizontal":"vertical"),d.xp6(2),d.Q6J("label",d.lcZ(4,44,"APP.AGENDA.FORM.EVENT.STEPS.STEP-1.LABEL")),d.xp6(3),d.Q6J("icon","calendar-outline"),d.xp6(1),d.hij(" ",d.lcZ(8,46,"APP.AGENDA.FORM.EVENT.STEPS.STEP-1.TITLE")," "),d.xp6(4),d.hij("",d.lcZ(12,48,"APP.AGENDA.FORM.EVENT.CALENDARS"),":"),d.xp6(2),d.Q6J("status","primary"),d.xp6(13),d.Q6J("label",d.lcZ(27,50,"APP.AGENDA.FORM.EVENT.STEPS.STEP-2.LABEL")),d.xp6(3),d.Q6J("icon","clock-outline"),d.xp6(1),d.hij(" ",d.lcZ(31,52,"APP.AGENDA.FORM.EVENT.STEPS.STEP-2.TITLE")," "),d.xp6(4),d.hij("",d.lcZ(35,54,"APP.AGENDA.FORM.EVENT.STARTTIME"),":"),d.xp6(2),d.Udp("width","155px"),d.Q6J("status","primary")("nbDatepicker",e)("formControlName","startTime"),d.xp6(1),d.Q6J("singleColumn",!0)("applyButtonText",d.lcZ(39,56,"GLOBAL.OK"))("currentTimeButtonText",d.lcZ(40,58,"GLOBAL.NOW"))("step",10),d.xp6(7),d.hij("",d.lcZ(45,60,"APP.AGENDA.FORM.EVENT.ENDTIME"),":"),d.xp6(2),d.Udp("width","155px"),d.Q6J("status","primary")("nbDatepicker",n)("formControlName","endTime"),d.xp6(1),d.Q6J("applyButtonText",d.lcZ(49,62,"GLOBAL.OK"))("currentTimeButtonText",d.lcZ(50,64,"GLOBAL.NOW"))("singleColumn",!0)("step",10),d.xp6(4),d.Q6J("label",d.lcZ(52,66,"APP.AGENDA.FORM.EVENT.STEPS.STEP-3.LABEL")),d.xp6(3),d.Q6J("icon","briefcase-outline"),d.xp6(1),d.hij(" ",d.lcZ(56,68,"APP.AGENDA.FORM.EVENT.STEPS.STEP-3.TITLE")," "),d.xp6(3),d.Q6J("status","primary")("formControlName","isPrivate"),d.xp6(1),d.hij(" ",d.lcZ(60,70,"APP.AGENDA.FORM.EVENT.IS_PRIVATE")," "),d.xp6(4),d.Oqu(d.lcZ(64,72,"APP.AGENDA.FORM.EVENT.STATUS.TITLE")),d.xp6(2),d.Q6J("name","statusSelector")("status","primary")("formControlName","statusDisplayed"),d.xp6(1),d.Q6J("value","BUSY"),d.xp6(1),d.hij(" ",d.lcZ(68,74,"APP.AGENDA.FORM.EVENT.STATUS.BUSY")," "),d.xp6(2),d.Q6J("value","FREE"),d.xp6(1),d.hij(" ",d.lcZ(71,76,"APP.AGENDA.FORM.EVENT.STATUS.FREE")," ")}},directives:[u._Y,u.JL,u.sg,p.TLo,p.Sv4,p.fMN,S.xw,S.Wh,S.SQ,p.rs,p.q51,p.h8i,p.$kf,u.Fj,u.JJ,u.u,p.VW_,p.emG,p.NTf,p.MFI,p.r3g],pipes:[A.X$],styles:["[_nghost-%COMP%]     .step-content{width:100%!important}"]}),e})();var _=n(8477);function b(e,t){1&e&&(d.ynx(0),d._uU(1),d.ALo(2,"translate"),d.BQk()),2&e&&(d.xp6(1),d.hij(" ",d.lcZ(2,1,"APP.AGENDA.FORM.EVENT.UPDATE")," "))}function Z(e,t){1&e&&(d._uU(0),d.ALo(1,"translate")),2&e&&d.hij(" ",d.lcZ(1,1,"APP.AGENDA.FORM.EVENT.CREATE")," ")}let D=(()=>{class e{constructor(e){this.dialogRef=e,this.form=new u.cw({title:new u.NI("",[u.kI.required]),startTime:new u.NI(new Date,[u.kI.required]),endTime:new u.NI((0,h.Z)(new Date,1),[u.kI.required]),description:new u.NI(""),isPrivate:new u.NI(!1),statusDisplayed:new u.NI("BUSY")})}ngAfterViewInit(){this._initForm()}submit(){}_initForm(){var e,t,n,i,s,a;this.form.patchValue({title:null!==(e=this.event.Subject)&&void 0!==e?e:"",startTime:null!==(t=this.event.StartTime)&&void 0!==t?t:new Date,endTime:null!==(n=this.event.EndTime)&&void 0!==n?n:new Date,description:null!==(i=this.event.Description)&&void 0!==i?i:"",isPrivate:null!==(s=this.event.Meta.isPrivate)&&void 0!==s&&s,statusDisplayed:null!==(a=this.event.Meta.statusDisplayed)&&void 0!==a?a:"BUSY"})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(p.X4l))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-event-form"]],inputs:{event:"event"},decls:11,vars:5,consts:[[3,"close"],[4,"ngIf","ngIfElse"],["createTitle",""],[3,"event","form"],["eventFormContentComponent",""],[3,"stepper","submit","close"]],template:function(e,t){if(1&e&&(d.TgZ(0,"nb-card"),d.TgZ(1,"nb-card-header"),d.TgZ(2,"app-dialog-header",0),d.NdJ("close",function(){return t.dialogRef.close()}),d.YNc(3,b,3,3,"ng-container",1),d.YNc(4,Z,2,3,"ng-template",null,2,d.W1O),d.qZA(),d.qZA(),d.TgZ(6,"nb-card-body"),d._UZ(7,"app-event-form-content",3,4),d.qZA(),d.TgZ(9,"nb-card-footer"),d.TgZ(10,"app-dialog-action-btn",5),d.NdJ("submit",function(){return t.submit()})("close",function(){return t.dialogRef.close()}),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.MAs(5),n=d.MAs(8);d.xp6(3),d.Q6J("ngIf",null==t.event?null:t.event.Id)("ngIfElse",e),d.xp6(4),d.Q6J("event",t.event)("form",t.form),d.xp6(3),d.Q6J("stepper",n.nbStepper)}},directives:[p.Asz,p.ndF,m.A,g.O5,p.yKW,f,p.XWE,_.D],pipes:[A.X$],styles:["[_nghost-%COMP%]     nb-card{min-width:60vw!important}"]}),e})();var E=n(2995),w=n(2445),y=n(3820);const x=["*"];let O=(()=>{class e{constructor(){this.close=new d.vpe,this.delete=new d.vpe,this.edit=new d.vpe}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-event-details-header"]],inputs:{event:"event"},outputs:{close:"close",delete:"delete",edit:"edit"},ngContentSelectors:x,decls:10,vars:0,consts:[["fxLayout","column"],["fxLayoutAlign","end center","fxLayoutGap","8px"],["nbButton","","ghost","","type","button","shape","round","size","small","status","basic",3,"click"],["icon","trash-2-outline"],["icon","edit-2-outline"],["nbButton","","ghost","","type","button","shape","round","size","small","status","danger","autofocus","",3,"click"],["icon","close-outline"],["fxLayoutAlign","start center","fxLayoutGap","8px"]],template:function(e,t){1&e&&(d.F$t(),d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"button",2),d.NdJ("click",function(){return t.delete.emit()}),d._UZ(3,"nb-icon",3),d.qZA(),d.TgZ(4,"button",2),d.NdJ("click",function(){return t.edit.emit()}),d._UZ(5,"nb-icon",4),d.qZA(),d.TgZ(6,"button",5),d.NdJ("click",function(){return t.close.emit()}),d._UZ(7,"nb-icon",6),d.qZA(),d.qZA(),d.TgZ(8,"div",7),d.Hsn(9),d.qZA(),d.qZA())},directives:[S.xw,S.Wh,S.SQ,p.DPz,p.fMN],styles:[""]}),e})();function P(e,t){if(1&e&&(d.TgZ(0,"div",1),d._UZ(1,"nb-icon",2),d.TgZ(2,"span"),d._uU(3),d.ALo(4,"date"),d.ALo(5,"date"),d.qZA(),d.qZA()),2&e){const e=d.oxw();d.xp6(3),d.AsE("",d.xi3(4,2,e.event.StartTime,"HH:mm")," - ",d.xi3(5,5,e.event.EndTime,"HH:mm"),"")}}function N(e,t){if(1&e&&(d.TgZ(0,"div",1),d._UZ(1,"nb-icon",3),d.TgZ(2,"p"),d._uU(3),d.qZA(),d.qZA()),2&e){const e=d.oxw();d.xp6(3),d.Oqu(e.event.Description)}}let L=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-event-details-content"]],inputs:{event:"event"},decls:2,vars:2,consts:[["fxLayout","row","fxLayoutGap","8px",4,"ngIf"],["fxLayout","row","fxLayoutGap","8px"],["icon","clock-outline"],["icon","menu-outline"]],template:function(e,t){1&e&&(d.YNc(0,P,6,8,"div",0),d.YNc(1,N,4,1,"div",0)),2&e&&(d.Q6J("ngIf",t.event.StartTime&&t.event.EndTime),d.xp6(1),d.Q6J("ngIf",t.event.Description))},directives:[g.O5,S.xw,S.SQ,p.fMN],pipes:[g.uU],styles:[""]}),e})(),M=(()=>{class e{constructor(e,t,n,i,s){this.dialogRef=e,this._eventService=t,this._agendaHelperService=n,this._dialogService=i,this._dialogServiceCustom=s,this.event=new E.m}ngOnInit(){}edit(){this._agendaHelperService.openEventFormDialog(this.event).onClose.subscribe(e=>{e&&this._eventService.save(e).subscribe()})}delete(){this._agendaHelperService.openConfirmActionDialog().onClose.subscribe(e=>{e.confirmed&&(this._eventService.delete(this.event.Meta.id).subscribe(),this.dialogRef.close())})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(p.X4l),d.Y36(w.P),d.Y36(k),d.Y36(p.Gln),d.Y36(y.K))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-event-details"]],decls:6,vars:5,consts:[[3,"event","close","delete","edit"],[3,"event","fxFlex.gt-sm","fxFlex.lt-sm"]],template:function(e,t){1&e&&(d.TgZ(0,"nb-card"),d.TgZ(1,"nb-card-header"),d.TgZ(2,"app-event-details-header",0),d.NdJ("close",function(){return t.dialogRef.close()})("delete",function(){return t.delete()})("edit",function(){return t.edit()}),d._uU(3),d.qZA(),d.qZA(),d.TgZ(4,"nb-card-body"),d._UZ(5,"app-event-details-content",1),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("event",t.event),d.xp6(1),d.hij(" ",t.event.Subject," "),d.xp6(2),d.Q6J("event",t.event)("fxFlex.gt-sm","50vw")("fxFlex.lt-sm","100vw"))},directives:[p.Asz,p.ndF,O,p.yKW,L,S.yH],styles:["app-event-details-content[_ngcontent-%COMP%]{padding:12px}"]}),e})();var I=n(5996);let k=(()=>{class e{constructor(e,t,n){this._translateService=e,this._dialogService=t,this._dialogCustomService=n,this.refreshAgenda$=new i.X(null),this.isAgendaLoading=new i.X(!1),this._viewDate=new Date,this._views=["Day","Week","WorkWeek","Month","Year","Agenda"],this._timelineViews=["TimelineDay","TimelineWeek","TimelineWorkWeek","TimelineMonth","TimelineYear"],this._timeSlotDuration=[{name:"APP.AGENDA.FORM.SETTINGS.TIMESLOTS",value:15},{name:"APP.AGENDA.FORM.SETTINGS.TIMESLOTS",value:30},{name:"APP.AGENDA.FORM.SETTINGS.TIMESLOTS",value:60},{name:"APP.AGENDA.FORM.SETTINGS.TIMESLOTS",value:90},{name:"APP.AGENDA.FORM.SETTINGS.TIMESLOTS",value:120}],this._weekDays=[{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:0},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:1},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:2},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:3},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:4},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:5},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:6}],this._currentViewDisplayed="Week",this._firstDayDisplayed={name:"Lundi",value:1},this._startTime=c(new Date,{hours:8,minutes:0}),this._endTime=c(new Date,{hours:17,minutes:0}),this._timeSlotDisplayed=this._timeSlotDuration[2],this._weekDaysDisplayed=this._weekDays,this._firstDayDisplayed=this._weekDays[0]}get startTime(){return this._startTime}set startTime(e){this._startTime=e,this.ejsSchedule.startHour=e.toDateString()}get endTime(){return this._endTime}set endTime(e){this._endTime=e,this.ejsSchedule.endHour=e.toDateString()}get viewDate(){return this._viewDate}set viewDate(e){this._viewDate=e}get views(){return this._views}set views(e){this._views=e}get timelineViews(){return this._timelineViews}set timelineViews(e){this._timelineViews=e}get timeSlotDuration(){return this._timeSlotDuration}set timeSlotDuration(e){this._timeSlotDuration=e}get weekDays(){return this._weekDays}get workDays(){return this._weekDays.map(e=>e.value)}set weekDays(e){this._weekDays=e}get currentViewDisplayed(){return this._currentViewDisplayed}set currentViewDisplayed(e){this._currentViewDisplayed=e}get timeSlotDisplayed(){return this._timeSlotDisplayed}set timeSlotDisplayed(e){this._timeSlotDisplayed=e,this.ejsSchedule.timeScale.interval=e.value}get weekDaysDisplayed(){return this._weekDaysDisplayed}set weekDaysDisplayed(e){this._weekDaysDisplayed=e}get firstDayDisplayed(){return this._firstDayDisplayed}set firstDayDisplayed(e){this._firstDayDisplayed=e,this.ejsSchedule.firstDayOfWeek=e.value}openEventDetailsDialog(e){return this._dialogService.open(M,{context:{event:e},dialogClass:this._dialogCustomService.isFullscreen})}openEventFormDialog(e){return this._dialogService.open(D,{context:{event:e},dialogClass:this._dialogCustomService.isFullscreen})}openConfirmActionDialog(){return this._dialogService.open(I.$,{dialogClass:this._dialogCustomService.isFullscreen})}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(A.sK),d.LFG(p.Gln),d.LFG(y.K))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e})()},5003:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ApplicationModule:()=>b});var i=n(1116),s=n(3917),a=n(5366);let r=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();var o=n(2445),l=n(9261),c=n(3337),u=n(5959),h=n(5216),d=n(3973),p=n(5965),m=n(649);let g=(()=>{class e{constructor(e){this._nbThemeService=e,this.toggle=new a.vpe,this.logout=new a.vpe}ngOnInit(){}get isDarkTheme(){return"cosmic"===this._nbThemeService.currentTheme}toggleTheme(){this._nbThemeService.changeTheme("cosmic"===this._nbThemeService.currentTheme?"default":"cosmic"),sessionStorage.setItem("theme",this._nbThemeService.currentTheme)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(h.WMF))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-topbar"]],inputs:{nbSidebarComponent:"nbSidebarComponent"},outputs:{toggle:"toggle",logout:"logout"},decls:10,vars:12,consts:[["nbButton","","ghost","","status","primary","shape","semi-round","size","large",3,"click"],[3,"icon"],[3,"type","hint","placeholder","tag"],[3,"fxFlex"],["nbButton","","ghost","","status","primary","shape","semi-round","size","large",3,"routerLink","click"],["icon","power-outline"]],template:function(e,t){1&e&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return t.toggle.emit()}),a._UZ(1,"nb-icon",1),a.qZA(),a._UZ(2,"nb-search",2),a.ALo(3,"translate"),a.ALo(4,"translate"),a._UZ(5,"span",3),a.TgZ(6,"button",0),a.NdJ("click",function(){return t.toggleTheme()}),a._UZ(7,"nb-icon",1),a.qZA(),a.TgZ(8,"button",4),a.NdJ("click",function(){return t.logout.emit()}),a._UZ(9,"nb-icon",5),a.qZA()),2&e&&(a.xp6(1),a.Q6J("icon",t.nbSidebarComponent.compacted?"menu-outline":"menu-arrow-outline"),a.xp6(1),a.Q6J("type","modal-zoomin")("hint",a.lcZ(3,8,"APP.SEARCH.HINT"))("placeholder",a.lcZ(4,10,"APP.SEARCH.PLACEHOLDER"))("tag","topbar-search"),a.xp6(3),a.Q6J("fxFlex","auto"),a.xp6(2),a.Q6J("icon",t.isDarkTheme?"sun-outline":"moon-outline"),a.xp6(1),a.Q6J("routerLink","/homepage"))},directives:[h.DPz,h.fMN,h.G$7,p.yH,c.rH],pipes:[m.X$],styles:[""]}),e})();var v=n(4762);let S=(()=>{class e{constructor(e){this._translateService=e,this._initItems()}ngOnInit(){}_initItems(){return(0,v.mG)(this,void 0,void 0,function*(){yield this._translateService.get("APPNAME").toPromise(),this.items=[{title:this._translateService.instant("APP.LEFT_MENU.DASHBOARD"),icon:"grid-outline",link:"/app/dashboard",pathMatch:"full"},{title:yield this._translateService.instant("APP.LEFT_MENU.AGENDA"),icon:"calendar-outline",link:"/app/agenda",pathMatch:"full"}]})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(m.sK))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-left-menu"]],decls:1,vars:1,consts:[["tag","left-menu",3,"items"]],template:function(e,t){1&e&&a._UZ(0,"nb-menu",0),2&e&&a.Q6J("items",t.items)},directives:[h.mBz],styles:[""]}),e})();var A=n(8270);function T(e,t){1&e&&a._UZ(0,"app-language-selector")}const f=[{path:"",component:(()=>{class e{constructor(e,t,n,i){this.sidebarService=e,this.loaderService=t,this._nbThemeService=n,this._authService=i,this.nbSidebarState="expanded",this._destroy=new u.xQ}ngOnInit(){this._initTheme()}ngOnDestroy(){this._destroy.next()}toggle(){this.sidebarService.toggle(!0,"left")}logout(){this._authService.logout()}_initTheme(){var e;this._nbThemeService.changeTheme(null!==(e=sessionStorage.getItem("theme"))&&void 0!==e?e:"default"),sessionStorage.setItem("theme",this._nbThemeService.currentTheme)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(h.lzT),a.Y36(l.D),a.Y36(h.WMF),a.Y36(d.e))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-template"]],decls:12,vars:7,consts:[["fixed",""],["fxFlex","auto","fxLayoutAlign","start center","fxLayoutGap","16px",3,"nbSidebarComponent","toggle","logout"],[3,"tag","responsive","stateChange"],["nbSidebarComponent",""],[4,"ngIf"],["nbSpinnerSize","giant","nbSpinnerStatus","primary",3,"nbSpinner"]],template:function(e,t){if(1&e&&(a.TgZ(0,"nb-layout"),a.TgZ(1,"nb-layout-header",0),a.TgZ(2,"app-topbar",1),a.NdJ("toggle",function(){return t.toggle()})("logout",function(){return t.logout()}),a.qZA(),a.qZA(),a.TgZ(3,"nb-sidebar",2,3),a.NdJ("stateChange",function(e){return t.nbSidebarState=e}),a._UZ(5,"app-left-menu"),a.TgZ(6,"nb-sidebar-footer"),a.YNc(7,T,1,0,"app-language-selector",4),a.qZA(),a.qZA(),a.TgZ(8,"nb-layout-column"),a.TgZ(9,"nb-card",5),a.ALo(10,"async"),a._UZ(11,"router-outlet"),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.MAs(4);a.xp6(2),a.Q6J("nbSidebarComponent",e),a.xp6(1),a.Q6J("tag","left")("responsive",!0),a.xp6(4),a.Q6J("ngIf","expanded"===t.nbSidebarState),a.xp6(2),a.Q6J("nbSpinner",a.lcZ(10,5,t.loaderService.isLoading$))}},directives:[h.Aqw,h.dmS,g,p.yH,p.Wh,p.SQ,h.nZR,S,h.A3Z,i.O5,h.dP_,h.Asz,h.Q7R,c.lC,A.S],pipes:[i.Ov],styles:["[_nghost-%COMP%]     nb-layout nb-layout-column{padding:1.5rem!important}[_nghost-%COMP%]     nb-layout nb-layout-column>nb-card{background:transparent!important;border:none!important}[_nghost-%COMP%]     nb-layout nb-layout-column nb-card{margin-bottom:0!important}[_nghost-%COMP%]     nb-layout nb-layout-footer nav{justify-content:flex-end!important}[_nghost-%COMP%]     nb-layout nb-sidebar.compacted nb-icon{margin:0!important}[_nghost-%COMP%]     .nebular-dialog{display:flex;align-items:center;place-content:center;min-width:20vw!important;max-width:80vw!important;max-height:80vh!important}[_nghost-%COMP%]     .nebular-dialog nb-card{height:100%!important}[_nghost-%COMP%]     .nebular-dialog-fullscreen{width:100vw!important;height:100vh!important}[_nghost-%COMP%]     .nebular-dialog-fullscreen nb-card{width:100vw!important;height:100%!important}"]}),e})(),children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadChildren:()=>n.e(553).then(n.bind(n,9553)).then(e=>e.DashboardModule)},{path:"agenda",loadChildren:()=>n.e(287).then(n.bind(n,7287)).then(e=>e.AgendaModule)},{path:"settings",loadChildren:()=>n.e(133).then(n.bind(n,133)).then(e=>e.SettingsModule)}]}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[c.Bz.forChild(f)],c.Bz]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[r,o.P,l.D],imports:[[i.ez,s.m,_]]}),e})()},8498:(e,t,n)=>{"use strict";n.d(t,{j:()=>c});var i=n(6941);class s{constructor(e){this.id=0,this.day=null,this.startHour="08:00",this.endHour="17:00",this.hasBreak=!0,this.startBreak="12:00",this.endBreak="13:00",e?(Object.assign(this,e),(null==e?void 0:e.agenda)&&(this.agenda=new o(e.agenda))):Object.create(this)}}var a=n(7597);class r{constructor(e){var t,n,i;this.id=0,this.name=null,this.agendas=null,this.users=null,this.sharedAgendas=null,e?(Object.assign(this,e),(null===(t=null==e?void 0:e.agendas)||void 0===t?void 0:t.length)&&(this.agendas=e.agendas.map(e=>new o(e))),(null===(n=null==e?void 0:e.users)||void 0===n?void 0:n.length)&&(this.users=e.users.map(e=>new a.n(e))),(null===(i=null==e?void 0:e.sharedAgendas)||void 0===i?void 0:i.length)&&(this.sharedAgendas=e.sharedAgendas.map(e=>new o(e)))):Object.create(this)}}class o{constructor(e){var t,n,i,o,l;this.id=0,this.name=null,this.color="#de5c08",this.user=null,this.team=null,this.events=null,this.schedules=null,this.sharedEvents=null,this.sharedUsers=null,this.sharedTeams=null,e?(Object.assign(this,e),(null==e?void 0:e.user)&&(this.user=new a.n(e.user)),(null==e?void 0:e.team)&&(this.team=new r(e.team)),(null===(t=null==e?void 0:e.events)||void 0===t?void 0:t.length)&&(this.events=e.events.map(e=>new c(e))),(null===(n=null==e?void 0:e.schedules)||void 0===n?void 0:n.length)&&(this.schedules=e.schedules.map(e=>new s(e))),(null===(i=null==e?void 0:e.sharedEvents)||void 0===i?void 0:i.length)&&(this.sharedEvents=e.sharedEvents.map(e=>new c(e))),(null===(o=null==e?void 0:e.sharedUsers)||void 0===o?void 0:o.length)&&(this.sharedUsers=e.sharedUsers.map(e=>new a.n(e))),(null===(l=null==e?void 0:e.sharedTeams)||void 0===l?void 0:l.length)&&(this.sharedTeams=e.sharedTeams.map(e=>new r(e)))):Object.create(this)}}class l{constructor(e){this.id=0,this.content=null,this.user=null,this.event=null,e?(Object.assign(this,e),(null==e?void 0:e.user)&&(this.user=new a.n(e.user)),(null==e?void 0:e.event)&&(this.event=new c(e.event))):Object.create(this)}}class c{constructor(e){this.name=null,this.adayOff=!1,this.isPrivate=!1,this.statusDisplayed="FREE",this.eventType="APPOINTMENT",this.startDate=(new Date).toISOString(),this.endDate=(0,i.Z)(new Date,1).toISOString(),this.meetingUrl=null,this.report=null,this.agenda=null,this.comments=null,this.sharedAgendas=null,e?(Object.assign(this,e),this.agenda=new o(e.agenda),this.comments=e.comments.map(e=>new l(e)),this.sharedAgendas=e.sharedAgendas.map(e=>new o(e))):Object.create(this)}static transformIntoEvent(e){return new c(Object.assign(Object.assign({},e.Meta),{id:e.Id,startDate:e.StartTime,endDate:e.EndTime,name:e.Subject}))}}},7597:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});class i{constructor(e){var t;this.id=0,this.name=null,this.roles=null,e?(Object.assign(this,e),(null===(t=null==e?void 0:e.roles)||void 0===t?void 0:t.length)&&(this.roles=e.roles.map(e=>new s(e)))):Object.create(this)}}class s{constructor(e){var t,n;this.id=0,this.name=null,this.users=null,this.authorities=null,e?(Object.assign(this,e),(null===(t=null==e?void 0:e.users)||void 0===t?void 0:t.length)&&(this.users=e.users.map(e=>new a(e))),(null===(n=null==e?void 0:e.authorities)||void 0===n?void 0:n.length)&&(this.authorities=e.authorities.map(e=>new i(e)))):Object.create(this)}}class a{constructor(e){this.id=0,this.firstName=null,this.lastName=null,this.username=null,this.email=null,this.password=null,this.role=null,this.comments=null,this.agendas=null,this.teams=null,this.cards=null,this.sharedAgendas=null,e?(Object.assign(this,e),(null==e?void 0:e.role)&&(this.role=new s(e.role))):Object.create(this)}}}}]);