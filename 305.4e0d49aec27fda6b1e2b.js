(self.webpackChunkMy_planning=self.webpackChunkMy_planning||[]).push([[305],{4546:(e,t,n)=>{"use strict";n.d(t,{Yg:()=>T});var i=n(5366),r=n(9861),a=n(5959),s=n(3080),o=n(7930),l=n(8318),c=n(611),u=n(4698),d=n(7701),h=n(9996),p=n(6238),g=n(5416),m=n(3169);const v=new Set;let f,A=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):S}matchMedia(e){return this._platform.WEBKIT&&function(e){if(!v.has(e))try{f||(f=document.createElement("style"),f.setAttribute("type","text/css"),document.head.appendChild(f)),f.sheet&&(f.sheet.insertRule(`@media ${e} {.fx-query-test{ }}`,0),v.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(m.t4))},e.\u0275prov=(0,i.Yz7)({factory:function(){return new e((0,i.LFG)(m.t4))},token:e,providedIn:"root"}),e})();function S(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let T=(()=>{class e{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new a.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Z((0,r.Eq)(e)).some(e=>this._registerQuery(e).mql.matches)}observe(e){const t=Z((0,r.Eq)(e)).map(e=>this._registerQuery(e).observable);let n=(0,s.aj)(t);return n=(0,o.z)(n.pipe((0,c.q)(1)),n.pipe((0,u.T)(1),(0,d.b)(0))),n.pipe((0,h.U)(e=>{const t={matches:!1,breakpoints:{}};return e.forEach(({matches:e,query:n})=>{t.matches=t.matches||e,t.breakpoints[n]=e}),t}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),n={observable:new l.y(e=>{const n=t=>this._zone.run(()=>e.next(t));return t.addListener(n),()=>{t.removeListener(n)}}).pipe((0,p.O)(t),(0,h.U)(({matches:t})=>({query:e,matches:t})),(0,g.R)(this._destroySubject)),mql:t};return this._queries.set(e,n),n}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(A),i.LFG(i.R0b))},e.\u0275prov=(0,i.Yz7)({factory:function(){return new e((0,i.LFG)(A),(0,i.LFG)(i.R0b))},token:e,providedIn:"root"}),e})();function Z(e){return e.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}},1948:(e,t,n)=>{"use strict";function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>i})},6941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(1948),r=n(5090),a=n(6280);function s(e,t){(0,a.Z)(2,arguments);var n=(0,r.Z)(e).getTime(),s=(0,i.Z)(t);return new Date(n+s)}var o=36e5;function l(e,t){(0,a.Z)(2,arguments);var n=(0,i.Z)(t);return s(e,n*o)}},8125:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(5090),r=n(6280);function a(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return t.setHours(23,59,59,999),t}},9310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(5090),r=n(6280);function a(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),a=(0,i.Z)(t);return n.getTime()<a.getTime()}},4228:(e,t,n)=>{"use strict";n.d(t,{i:()=>c});var i=n(2709),r=n(529),a=n(9996),s=n(5366),o=n(2693),l=n(3973);let c=(()=>{class e{constructor(e,t){this._http=e,this._authService=t,this._baseUrl=(0,r.U)()+"/agenda"}getUserAgendas(){return this._http.get(`${this._baseUrl}/user/${this._authService.user.id.toString(10)}`).pipe((0,a.U)(e=>e.map(e=>new i.B(e))))}getUserSharedAgendas(){return this._http.get(`${this._baseUrl}/shared/user/${this._authService.user.id.toString(10)}`).pipe((0,a.U)(e=>e.map(e=>new i.B(e))))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.eN),s.LFG(l.e))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},2445:(e,t,n)=>{"use strict";n.d(t,{P:()=>y});var i=n(2693),r=n(5090),a=n(1948),s=n(6280);function o(e,t){(0,s.Z)(1,arguments);var n=t||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,l=null==o?0:(0,a.Z)(o),c=null==n.weekStartsOn?l:(0,a.Z)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,r.Z)(e),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function l(e,t){(0,s.Z)(1,arguments);var n=t||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,l=null==o?0:(0,a.Z)(o),c=null==n.weekStartsOn?l:(0,a.Z)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,r.Z)(e),d=u.getDay(),h=6+(d<c?-7:0)-(d-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function c(e){(0,s.Z)(1,arguments);var t=(0,r.Z)(e);return t.setDate(1),t.setHours(0,0,0,0),t}function u(e){(0,s.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function d(e){(0,s.Z)(1,arguments);var t=(0,r.Z)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function h(e){(0,s.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}var p=n(205),g=n(8125),m=n(878),v=n(9996),f=n(4019),A=n(7727),S=n(529),T=n(9599),Z=n(2995),b=n(5366),_=n(3681),D=n(3973),E=n(3492),x=n(649);let y=(()=>{class e{constructor(e,t,n,i,r){this._http=e,this._agendaHelperService=t,this._authService=n,this._taostrService=i,this._translateService=r,this._baseUrl=(0,S.U)()+"/event"}getEvents(){this._agendaHelperService.isAgendaLoading.next(!0);const e=this._generateHttpParams,t=(new i.LE).set("userId",this._authService.user.id.toString(10)).set("startDate",e.startDate).set("endDate",e.endDate);return this._http.get(`${this._baseUrl}`,{params:t}).pipe((0,v.U)(e=>({dataSource:e.map(e=>Z.m.transformIntoSchedulerEvent(e))})),(0,f.b)(()=>{this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.success(this._translateService.instant("APP.AGENDA.TOASTR.SUCCESS.GET_EVENTS"))}),(0,A.K)(e=>{throw this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.error(this._translateService.instant("APP.AGENDA.TOASTR.ERROR.GET_EVENTS")),(0,m.of)(e)}))}getById(e){return this._agendaHelperService.isAgendaLoading.next(!0),this._http.get(`${this._baseUrl}/${e.toString(10)}`).pipe((0,v.U)(e=>Z.m.transformIntoSchedulerEvent(e)),(0,f.b)(()=>{this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.success(this._translateService.instant("APP.AGENDA.TOASTR.SUCCESS.GET_EVENT"))}),(0,A.K)(e=>{throw this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.error(this._translateService.instant("APP.AGENDA.TOASTR.ERROR.GET_EVENT")),(0,m.of)(e)}))}save(e){this._agendaHelperService.isAgendaLoading.next(!0);const t=T.j.transformIntoEvent(e);return(e.Id?this.update(t):this.create(t)).pipe((0,f.b)(e=>{this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.success(this._translateService.instant("APP.AGENDA.TOASTR.SUCCESS.SAVE"))}),(0,A.K)(e=>{throw this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.error(this._translateService.instant("APP.AGENDA.TOASTR.ERROR.SAVE")),(0,m.of)(e)}))}create(e){return this._http.post(`${this._baseUrl}`,e).pipe((0,v.U)(e=>Z.m.transformIntoSchedulerEvent(e)),(0,f.b)(e=>this._agendaHelperService.ejsSchedule.addEvent(e)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,v.U)(e=>Z.m.transformIntoSchedulerEvent(e)))}delete(e){return this._agendaHelperService.isAgendaLoading.next(!0),this._http.delete(`${this._baseUrl}/${e.toString(10)}`).pipe((0,f.b)(()=>{this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.success(this._translateService.instant("APP.AGENDA.TOASTR.SUCCESS.DELETE")),this._agendaHelperService.ejsSchedule.deleteEvent(e)}),(0,A.K)(e=>{throw this._agendaHelperService.isAgendaLoading.next(!1),this._taostrService.error(this._translateService.instant("APP.AGENDA.TOASTR.DELETE.ERROR")),(0,m.of)(e)}))}get _generateHttpParams(){switch(this._agendaHelperService.currentViewDisplayed){case"Day":case"Agenda":case"TimelineDay":return{startDate:(0,p.Z)(this._agendaHelperService.viewDate).toISOString(),endDate:(0,g.Z)(this._agendaHelperService.viewDate).toISOString()};case"Week":case"WorkWeek":case"TimelineWeek":case"TimelineWorkWeek":return{startDate:o(this._agendaHelperService.viewDate,{weekStartsOn:this._agendaHelperService.firstDayDisplayed.value}).toISOString(),endDate:l(this._agendaHelperService.viewDate,{weekStartsOn:this._agendaHelperService.firstDayDisplayed.value}).toISOString()};case"Month":case"MonthAgenda":case"TimelineMonth":return{startDate:c(this._agendaHelperService.viewDate).toISOString(),endDate:u(this._agendaHelperService.viewDate).toISOString()};case"Year":case"TimelineYear":return{startDate:d(this._agendaHelperService.viewDate).toISOString(),endDate:h(this._agendaHelperService.viewDate).toISOString()}}}}return e.\u0275fac=function(t){return new(t||e)(b.LFG(i.eN),b.LFG(_.U),b.LFG(D.e),b.LFG(E._W),b.LFG(x.sK))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac}),e})()},9261:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var i=n(8512),r=n(5366);let a=(()=>{class e{constructor(){this.isLoading$=new i.X(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},2995:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var i=n(6941),r=n(9599);class a{constructor(e){this.Id=0,this.Subject="",this.StartTime=(new Date).toISOString(),this.EndTime=(0,i.Z)(new Date,1).toISOString(),this.PrimaryColor="#1aaa7f",this.SecondaryColor="#aa811a",e?(Object.assign(this,e),e.Meta?(this.Meta=new r.j(e.Meta),this.Meta.startDate=this.StartTime.toString(),this.Meta.endDate=this.EndTime.toString()):this.Meta=new r.j):Object.create(this)}static transformIntoSchedulerEvent(e){return new a({Description:null,Subject:e.name,Id:e.id,StartTime:e.startDate,EndTime:e.endDate,SecondaryColor:e.agenda.color,Meta:new r.j(e)})}}},3681:(e,t,n)=>{"use strict";n.d(t,{U:()=>ce});var i=n(8512),r=n(5090),a=n(1948),s=n(6280);function o(e){(0,s.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getFullYear(),i=t.getMonth(),a=new Date(0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}function l(e,t){(0,s.Z)(2,arguments);var n=(0,r.Z)(e),i=(0,a.Z)(t),l=n.getFullYear(),c=n.getDate(),u=new Date(0);u.setFullYear(l,i,15),u.setHours(0,0,0,0);var d=o(u);return n.setMonth(i,Math.min(c,d)),n}function c(e,t){if((0,s.Z)(2,arguments),"object"!=typeof t||null===t)throw new RangeError("values parameter must be an object");var n=(0,r.Z)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=l(n,t.month)),null!=t.date&&n.setDate((0,a.Z)(t.date)),null!=t.hours&&n.setHours((0,a.Z)(t.hours)),null!=t.minutes&&n.setMinutes((0,a.Z)(t.minutes)),null!=t.seconds&&n.setSeconds((0,a.Z)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,a.Z)(t.milliseconds)),n)}var u=n(2995),d=n(1041),h=n(6941),p=n(9310);class g{static validateDate(){return e=>{const t=new Date(e.get("startDate").value),n=new Date(e.get("endDate").value);return e.get("startDate").markAsTouched(),e.get("endDate").markAsTouched(),(0,p.Z)(t,n)?(e.get("startDate").setErrors(null),e.get("endDate").setErrors(null),null):(e.get("startDate").setErrors({incorrectDate:!0}),e.get("endDate").setErrors({incorrectDate:!0}),{incorrectDate:!0})}}}var m=n(5366),v=n(5216),f=n(2445),A=n(5651),S=n(1116),T=n(7586),Z=n(4546),b=n(4228),_=n(5965),D=n(6881);function E(e,t){if(1&e&&m._UZ(0,"span",3),2&e){const e=m.oxw();m.Udp("background-color",e.agenda.color)}}const x=["*"];let y=(()=>{class e{constructor(){this.displayColor=!0}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-agenda-label"]],inputs:{agenda:"agenda",displayColor:"displayColor"},ngContentSelectors:x,decls:4,vars:1,consts:[["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px"],["class","agenda-color",3,"backgroundColor",4,"ngIf"],[1,"ellipsis"],[1,"agenda-color"]],template:function(e,t){1&e&&(m.F$t(),m.TgZ(0,"div",0),m.YNc(1,E,1,2,"span",1),m.TgZ(2,"span",2),m.Hsn(3),m.qZA(),m.qZA()),2&e&&(m.xp6(1),m.Q6J("ngIf",t.displayColor))},directives:[_.xw,_.Wh,_.SQ,S.O5],styles:["[_nghost-%COMP%]   .agenda-color[_ngcontent-%COMP%]{width:6px;height:20px;border-radius:5px}"]}),e})();var w=n(649);const N=["stepper"];function O(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function I(e,t){if(1&e&&(m.TgZ(0,"nb-error"),m.YNc(1,O,3,3,"ng-container",7),m.qZA()),2&e){const e=m.oxw();m.xp6(1),m.Q6J("ngIf",e.form.get("name").errors.required)}}function P(e,t){1&e&&(m.TgZ(0,"nb-option",33),m.TgZ(1,"small"),m.TgZ(2,"i"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.Q6J("disabled",!0),m.xp6(3),m.Oqu(m.lcZ(4,2,"APP.AGENDA.FORM.EVENT.NO_CALENDARS")))}function M(e,t){if(1&e&&(m.TgZ(0,"nb-option",29),m.TgZ(1,"app-agenda-label",34),m._uU(2),m.qZA(),m.qZA()),2&e){const e=t.$implicit;m.Q6J("value",e),m.xp6(1),m.Q6J("agenda",e),m.xp6(1),m.hij(" ",e.name," ")}}function U(e,t){if(1&e&&(m.TgZ(0,"nb-option-group",30),m.ALo(1,"translate"),m.YNc(2,P,5,4,"nb-option",31),m.YNc(3,M,3,3,"nb-option",32),m.qZA()),2&e){const e=t.ngIf;m.Q6J("title",m.lcZ(1,3,"APP.AGENDA.FORM.EVENT.MY_CALENDARS")),m.xp6(2),m.Q6J("ngIf",!e.length),m.xp6(1),m.Q6J("ngForOf",e)}}function L(e,t){1&e&&(m.TgZ(0,"nb-option",33),m.TgZ(1,"small"),m.TgZ(2,"i"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.Q6J("disabled",!0),m.xp6(3),m.Oqu(m.lcZ(4,2,"APP.AGENDA.FORM.EVENT.NO_SHARED_CALENDARS")))}function F(e,t){if(1&e&&(m.TgZ(0,"nb-option",29),m.TgZ(1,"app-agenda-label",34),m._uU(2),m.qZA(),m.qZA()),2&e){const e=t.$implicit;m.Q6J("value",e),m.xp6(1),m.Q6J("agenda",e),m.xp6(1),m.hij(" ",e.user.displayFormattedName()," ")}}function R(e,t){if(1&e&&(m.TgZ(0,"nb-option-group",30),m.ALo(1,"translate"),m.YNc(2,L,5,4,"nb-option",31),m.YNc(3,F,3,3,"nb-option",32),m.qZA()),2&e){const e=t.ngIf;m.Q6J("title",m.lcZ(1,3,"APP.AGENDA.FORM.EVENT.SHARED_CALENDARS")),m.xp6(2),m.Q6J("ngIf",!e.length),m.xp6(1),m.Q6J("ngForOf",e)}}function k(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function q(e,t){if(1&e&&(m.TgZ(0,"nb-error"),m.YNc(1,k,3,3,"ng-container",7),m.qZA()),2&e){const e=m.oxw();m.xp6(1),m.Q6J("ngIf",e.form.get("agenda").errors.required)}}function C(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function G(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"FORM.INPUT.ERRORS.INCORRECT_DATE")," "))}function Q(e,t){if(1&e&&(m.TgZ(0,"nb-error"),m.YNc(1,C,3,3,"ng-container",7),m.YNc(2,G,3,3,"ng-container",7),m.qZA()),2&e){const e=m.oxw();m.xp6(1),m.Q6J("ngIf",e.form.get("startDate").errors.required),m.xp6(1),m.Q6J("ngIf",e.form.get("startDate").hasError("incorrectDate"))}}function J(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function Y(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"FORM.INPUT.ERRORS.INCORRECT_DATE")," "))}function j(e,t){if(1&e&&(m.TgZ(0,"nb-error"),m.YNc(1,J,3,3,"ng-container",7),m.YNc(2,Y,3,3,"ng-container",7),m.qZA()),2&e){const e=m.oxw();m.xp6(1),m.Q6J("ngIf",e.form.get("endDate").errors.required),m.xp6(1),m.Q6J("ngIf",e.form.get("endDate").hasError("incorrectDate"))}}function H(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function B(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"FORM.INPUT.ERRORS.PATTERN.URL")," "))}function V(e,t){if(1&e&&(m.TgZ(0,"nb-error"),m.YNc(1,H,3,3,"ng-container",7),m.YNc(2,B,3,3,"ng-container",7),m.qZA()),2&e){const e=m.oxw(2);m.xp6(1),m.Q6J("ngIf",e.form.get("meetingUrl").errors.required),m.xp6(1),m.Q6J("ngIf",e.form.get("meetingUrl").errors.pattern)}}function W(e,t){if(1&e&&(m.TgZ(0,"nb-form-field"),m.TgZ(1,"label",35),m._uU(2,"Url de la r\xe9union :"),m.qZA(),m._UZ(3,"input",36),m.YNc(4,V,3,2,"nb-error",7),m.qZA()),2&e){const e=m.oxw();m.xp6(3),m.Q6J("formControlName","meetingUrl")("status",e.checkFieldForError("meetingUrl")?"danger":"primary"),m.xp6(1),m.Q6J("ngIf",e.checkFieldForError("meetingUrl"))}}let $=(()=>{class e{constructor(e,t){this.breakpointObserver=e,this._agendaService=t,this.compareFn=(e,t)=>class{static compareWith(e,t){return!(!e||!t)&&((null==e?void 0:e.id)&&(null==t?void 0:t.id)?e.id===t.id:e==t)}}.compareWith(e,t)}ngOnInit(){this.agendas$=this._agendaService.getUserAgendas(),this.sharedAgendas$=this._agendaService.getUserSharedAgendas()}get hasMeeting(){return console.log("MEETING"===this.form.value.eventType),"MEETING"===this.form.value.eventType?(this.hasMeetingChanged(!0),!0):(this.hasMeetingChanged(!1),!1)}checkFieldForError(e){return T.r.checkField(e,this.form)}hasMeetingChanged(e){e?(this.form.get("eventType").setValue("MEETING"),this.form.get("meetingUrl").setValidators([d.kI.required,d.kI.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")])):(this.form.get("eventType").setValue("APPOINTMENT"),this.form.get("meetingUrl").clearValidators(),this.form.get("meetingUrl").updateValueAndValidity({emitEvent:!0,onlySelf:!1}))}}return e.\u0275fac=function(t){return new(t||e)(m.Y36(Z.Yg),m.Y36(b.i))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-event-form-content"]],viewQuery:function(e,t){if(1&e&&m.Gf(N,5),2&e){let e;m.iGM(e=m.CRH())&&(t.nbStepper=e.first)}},inputs:{event:"event",form:"form"},decls:79,vars:110,consts:[[3,"formGroup"],[3,"linear","orientation"],["stepper",""],[3,"label"],[3,"icon"],["for","name-input"],["id","name-input","type","text","nbInput","","fullWidth","","placeholder","Nom",3,"formControlName","status"],[4,"ngIf"],["for","agenda-select"],["placeholder","Agenda","id","agenda-select",3,"status","formControlName","compareWith"],[3,"title",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","12px"],["fxLayout","column","fxLayoutAlign","center start"],["for","startDate-select"],["id","startDate-select","nbInput","","fullWidth","",3,"status","nbDatepicker","formControlName"],[2,"display","none",3,"singleColumn","applyButtonText","currentTimeButtonText","step"],["startDatePicker",""],["for","endDate-select"],["id","endDate-select","nbInput","","fullWidth","",3,"status","nbDatepicker","formControlName"],[2,"display","none",3,"applyButtonText","currentTimeButtonText","singleColumn","step"],["endDatePicker",""],["fxFlex","100%","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","12px"],["labelPosition","start",3,"checked","checkedChange"],["meetingToggler",""],["for","description-input"],["id","description-input","nbInput","","fullWidth","","placeholder","Description","status","primary"],["fxLayout.lt-sm","column","fxLayoutAlign","start center","fxLayoutAlign.lt-sm","center start","fxLayoutGap","8px"],[3,"status","formControlName"],["fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","start center","fxLayoutGap.gt-sm","16px",3,"name","status","formControlName"],[3,"value"],[3,"title"],[3,"disabled",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"disabled"],[3,"agenda"],["for","meeting-input"],["id","meeting-input","type","text","nbInput","","fullWidth","","placeholder","Nom",3,"formControlName","status"]],template:function(e,t){if(1&e&&(m.TgZ(0,"form",0),m.TgZ(1,"nb-stepper",1,2),m.TgZ(3,"nb-step",3),m.ALo(4,"translate"),m.TgZ(5,"h6"),m._UZ(6,"nb-icon",4),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.TgZ(9,"nb-form-field"),m.TgZ(10,"label",5),m._uU(11,"Nom :"),m.qZA(),m._UZ(12,"input",6),m.YNc(13,I,2,1,"nb-error",7),m.qZA(),m.TgZ(14,"nb-form-field"),m.TgZ(15,"label",8),m._uU(16),m.ALo(17,"translate"),m.qZA(),m.TgZ(18,"nb-select",9),m.YNc(19,U,4,5,"nb-option-group",10),m.ALo(20,"async"),m.YNc(21,R,4,5,"nb-option-group",10),m.ALo(22,"async"),m.qZA(),m.YNc(23,q,2,1,"nb-error",7),m.qZA(),m.TgZ(24,"div",11),m.TgZ(25,"div",12),m.TgZ(26,"label",13),m._uU(27),m.ALo(28,"translate"),m.qZA(),m.TgZ(29,"nb-form-field"),m._UZ(30,"input",14),m._UZ(31,"nb-date-timepicker",15,16),m.ALo(33,"translate"),m.ALo(34,"translate"),m.YNc(35,Q,3,2,"nb-error",7),m.qZA(),m.qZA(),m.TgZ(36,"div",12),m.TgZ(37,"label",17),m._uU(38),m.ALo(39,"translate"),m.qZA(),m.TgZ(40,"nb-form-field"),m._UZ(41,"input",18),m._UZ(42,"nb-date-timepicker",19,20),m.ALo(44,"translate"),m.ALo(45,"translate"),m.YNc(46,j,3,2,"nb-error",7),m.qZA(),m.qZA(),m.qZA(),m.TgZ(47,"div",21),m.TgZ(48,"nb-toggle",22,23),m.NdJ("checkedChange",function(e){return t.hasMeetingChanged(e)}),m._uU(50," R\xe9union ? "),m.qZA(),m.YNc(51,W,5,3,"nb-form-field",7),m.qZA(),m.TgZ(52,"div"),m.TgZ(53,"label",24),m._uU(54,"Description :"),m.qZA(),m.TgZ(55,"nb-form-field"),m.TgZ(56,"textarea",25),m._uU(57,"          "),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(58,"nb-step",3),m.ALo(59,"translate"),m.TgZ(60,"h6"),m._UZ(61,"nb-icon",4),m._uU(62),m.ALo(63,"translate"),m.qZA(),m.TgZ(64,"div",26),m.TgZ(65,"nb-checkbox",27),m._uU(66),m.ALo(67,"translate"),m.qZA(),m.qZA(),m.TgZ(68,"div",26),m.TgZ(69,"span"),m._uU(70),m.ALo(71,"translate"),m.qZA(),m.TgZ(72,"nb-radio-group",28),m.TgZ(73,"nb-radio",29),m._uU(74),m.ALo(75,"translate"),m.qZA(),m.TgZ(76,"nb-radio",29),m._uU(77),m.ALo(78,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){const e=m.MAs(32),n=m.MAs(43),i=m.MAs(49);m.Q6J("formGroup",t.form),m.xp6(1),m.Q6J("linear",!0)("orientation",t.breakpointObserver.isMatched("(max-width: 960px)")?"horizontal":"vertical"),m.xp6(2),m.Q6J("label",m.lcZ(4,76,"APP.AGENDA.FORM.EVENT.STEPS.STEP-1.LABEL")),m.xp6(3),m.Q6J("icon","calendar-outline"),m.xp6(1),m.hij(" ",m.lcZ(8,78,"APP.AGENDA.FORM.EVENT.STEPS.STEP-1.TITLE")," "),m.xp6(2),m.Udp("margin-bottom",t.checkFieldForError("name")?"32px":"16px"),m.xp6(3),m.Q6J("formControlName","name")("status",t.checkFieldForError("name")?"danger":"primary"),m.xp6(1),m.Q6J("ngIf",t.checkFieldForError("name")),m.xp6(1),m.Udp("margin-bottom",t.checkFieldForError("agenda")?"32px":"16px"),m.xp6(2),m.hij("",m.lcZ(17,80,"APP.AGENDA.FORM.EVENT.CALENDARS"),":"),m.xp6(2),m.Q6J("status",t.checkFieldForError("agenda")?"danger":"primary")("formControlName","agenda")("compareWith",t.compareFn),m.xp6(1),m.Q6J("ngIf",m.lcZ(20,82,t.agendas$)),m.xp6(2),m.Q6J("ngIf",m.lcZ(22,84,t.sharedAgendas$)),m.xp6(2),m.Q6J("ngIf",t.checkFieldForError("agenda")),m.xp6(1),m.Udp("padding-left","26px"),m.xp6(3),m.hij("",m.lcZ(28,86,"APP.AGENDA.FORM.EVENT.STARTTIME"),":"),m.xp6(2),m.Udp("padding-left","0")("margin-bottom",t.checkFieldForError("startDate")?"32px":"16px"),m.xp6(1),m.Udp("width","155px"),m.Q6J("status",t.checkFieldForError("startDate")?"danger":"primary")("nbDatepicker",e)("formControlName","startDate"),m.xp6(1),m.Q6J("singleColumn",!0)("applyButtonText",m.lcZ(33,88,"GLOBAL.OK"))("currentTimeButtonText",m.lcZ(34,90,"GLOBAL.NOW"))("step",10),m.xp6(4),m.Q6J("ngIf",t.checkFieldForError("startDate")),m.xp6(3),m.hij("",m.lcZ(39,92,"APP.AGENDA.FORM.EVENT.ENDTIME"),":"),m.xp6(2),m.Udp("padding-left","0")("margin-bottom",t.checkFieldForError("endDate")?"32px":"16px"),m.xp6(1),m.Udp("width","155px"),m.Q6J("status",t.checkFieldForError("endDate")?"danger":"primary")("nbDatepicker",n)("formControlName","endDate"),m.xp6(1),m.Q6J("applyButtonText",m.lcZ(44,94,"GLOBAL.OK"))("currentTimeButtonText",m.lcZ(45,96,"GLOBAL.NOW"))("singleColumn",!0)("step",10),m.xp6(4),m.Q6J("ngIf",t.checkFieldForError("endDate")),m.xp6(1),m.Udp("padding-left","26px")("margin-bottom",t.checkFieldForError("meetingUrl")?"32px":"16px"),m.xp6(1),m.Q6J("checked",t.hasMeeting),m.xp6(3),m.Q6J("ngIf",i.checked),m.xp6(1),m.Udp("padding-left","26px"),m.xp6(3),m.Udp("padding-left","0"),m.xp6(3),m.Q6J("label",m.lcZ(59,98,"APP.AGENDA.FORM.EVENT.STEPS.STEP-3.LABEL")),m.xp6(3),m.Q6J("icon","briefcase-outline"),m.xp6(1),m.hij(" ",m.lcZ(63,100,"APP.AGENDA.FORM.EVENT.STEPS.STEP-3.TITLE")," "),m.xp6(3),m.Q6J("status","primary")("formControlName","private"),m.xp6(1),m.hij(" ",m.lcZ(67,102,"APP.AGENDA.FORM.EVENT.IS_PRIVATE")," "),m.xp6(4),m.Oqu(m.lcZ(71,104,"APP.AGENDA.FORM.EVENT.STATUS.TITLE")),m.xp6(2),m.Q6J("name","statusSelector")("status","primary")("formControlName","statusDisplayed"),m.xp6(1),m.Q6J("value","BUSY"),m.xp6(1),m.hij(" ",m.lcZ(75,106,"APP.AGENDA.FORM.EVENT.STATUS.BUSY")," "),m.xp6(2),m.Q6J("value","FREE"),m.xp6(1),m.hij(" ",m.lcZ(78,108,"APP.AGENDA.FORM.EVENT.STATUS.FREE")," ")}},directives:[d._Y,d.JL,d.sg,v.TLo,v.Sv4,v.fMN,v.jBG,v.h8i,d.Fj,d.JJ,d.u,S.O5,v.rs,_.xw,_.Wh,_.SQ,v.$kf,v.VW_,_.yH,v.BLq,v.NTf,v.MFI,v.r3g,D.C,v.$6R,S.sg,v.q51,y],pipes:[w.X$,S.Ov],styles:["[_nghost-%COMP%]     .step-content{width:100%!important}[_nghost-%COMP%]     .step-content h6{margin:8px 0}[_nghost-%COMP%]     .step-content nb-form-field{padding-left:26px}"]}),e})();var z=n(8477);function X(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"APP.AGENDA.FORM.EVENT.UPDATE")," "))}function K(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"APP.AGENDA.FORM.EVENT.CREATE")," ")}let ee=(()=>{class e{constructor(e,t){this.dialogRef=e,this._eventService=t,this.form=new d.cw({eventType:new d.NI("APPOINTMENT",[d.kI.required]),name:new d.NI(null,[d.kI.required]),agenda:new d.NI(null,[d.kI.required]),startDate:new d.NI(new Date,[d.kI.required]),endDate:new d.NI((0,h.Z)(new Date,1),[d.kI.required]),description:new d.NI(""),private:new d.NI(!1),adayOff:new d.NI(!1),meetingUrl:new d.NI(null),statusDisplayed:new d.NI("BUSY")},[g.validateDate()])}ngAfterViewInit(){this._initForm()}submit(){this._eventService.save(new u.m(u.m.transformIntoSchedulerEvent(this.form.value))).subscribe(e=>this.dialogRef.close(e))}_initForm(){var e,t,n,i,r,a,s,o,l,c,u,d,h,p,g,m,v,f;this.form.patchValue({name:null!==(e=this.event.Subject)&&void 0!==e?e:"",agenda:null!==(t=this.event.Meta.agenda)&&void 0!==t?t:null,startDate:this.event.StartTime?new Date(this.event.StartTime):new Date,endDate:this.event.EndTime?new Date(this.event.EndTime):new Date,description:null!==(n=this.event.Description)&&void 0!==n?n:"",private:null!==(a=null===(r=null===(i=this.event)||void 0===i?void 0:i.Meta)||void 0===r?void 0:r.private)&&void 0!==a&&a,statusDisplayed:null!==(l=null===(o=null===(s=this.event)||void 0===s?void 0:s.Meta)||void 0===o?void 0:o.statusDisplayed)&&void 0!==l?l:"BUSY",adayOff:null!==(d=null===(u=null===(c=this.event)||void 0===c?void 0:c.Meta)||void 0===u?void 0:u.adayOff)&&void 0!==d&&d,meetingUrl:null!==(g=null===(p=null===(h=this.event)||void 0===h?void 0:h.Meta)||void 0===p?void 0:p.meetingUrl)&&void 0!==g?g:null,eventType:null!==(f=null===(v=null===(m=this.event)||void 0===m?void 0:m.Meta)||void 0===v?void 0:v.eventType)&&void 0!==f?f:"APPOINTMENT"})}}return e.\u0275fac=function(t){return new(t||e)(m.Y36(v.X4l),m.Y36(f.P))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-event-form"]],inputs:{event:"event"},decls:11,vars:6,consts:[[3,"close"],[4,"ngIf","ngIfElse"],["createTitle",""],[3,"event","form"],["eventFormContentComponent",""],[3,"form","stepper","submit","close"]],template:function(e,t){if(1&e&&(m.TgZ(0,"nb-card"),m.TgZ(1,"nb-card-header"),m.TgZ(2,"app-dialog-header",0),m.NdJ("close",function(){return t.dialogRef.close()}),m.YNc(3,X,3,3,"ng-container",1),m.YNc(4,K,2,3,"ng-template",null,2,m.W1O),m.qZA(),m.qZA(),m.TgZ(6,"nb-card-body"),m._UZ(7,"app-event-form-content",3,4),m.qZA(),m.TgZ(9,"nb-card-footer"),m.TgZ(10,"app-dialog-action-btn",5),m.NdJ("submit",function(){return t.submit()})("close",function(){return t.dialogRef.close()}),m.qZA(),m.qZA(),m.qZA()),2&e){const e=m.MAs(5),n=m.MAs(8);m.xp6(3),m.Q6J("ngIf",null==t.event?null:t.event.Id)("ngIfElse",e),m.xp6(4),m.Q6J("event",t.event)("form",t.form),m.xp6(3),m.Q6J("form",t.form)("stepper",n.nbStepper)}},directives:[v.Asz,v.ndF,A.A,S.O5,v.yKW,$,v.XWE,z.D],pipes:[w.X$],styles:["[_nghost-%COMP%]     nb-card{min-width:60vw!important}"]}),e})();var te=n(3820);const ne=["*"];let ie=(()=>{class e{constructor(){this.close=new m.vpe,this.delete=new m.vpe,this.edit=new m.vpe}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-event-details-header"]],inputs:{event:"event"},outputs:{close:"close",delete:"delete",edit:"edit"},ngContentSelectors:ne,decls:10,vars:0,consts:[["fxLayout","column"],["fxLayoutAlign","end center","fxLayoutGap","8px"],["nbButton","","ghost","","type","button","shape","round","size","small","status","basic",3,"click"],["icon","trash-2-outline"],["icon","edit-2-outline"],["nbButton","","ghost","","type","button","shape","round","size","small","status","danger","autofocus","",3,"click"],["icon","close-outline"],["fxLayoutAlign","start center","fxLayoutGap","8px"]],template:function(e,t){1&e&&(m.F$t(),m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"button",2),m.NdJ("click",function(){return t.delete.emit()}),m._UZ(3,"nb-icon",3),m.qZA(),m.TgZ(4,"button",2),m.NdJ("click",function(){return t.edit.emit()}),m._UZ(5,"nb-icon",4),m.qZA(),m.TgZ(6,"button",5),m.NdJ("click",function(){return t.close.emit()}),m._UZ(7,"nb-icon",6),m.qZA(),m.qZA(),m.TgZ(8,"div",7),m.Hsn(9),m.qZA(),m.qZA())},directives:[_.xw,_.Wh,_.SQ,v.DPz,v.fMN],styles:[""]}),e})();function re(e,t){if(1&e&&(m.TgZ(0,"div",1),m._UZ(1,"nb-icon",2),m.TgZ(2,"span"),m._uU(3),m.ALo(4,"date"),m.ALo(5,"date"),m.qZA(),m.qZA()),2&e){const e=m.oxw();m.xp6(3),m.AsE("",m.xi3(4,2,e.event.StartTime,"HH:mm")," - ",m.xi3(5,5,e.event.EndTime,"HH:mm"),"")}}function ae(e,t){if(1&e&&(m.TgZ(0,"div",1),m._UZ(1,"nb-icon",3),m.TgZ(2,"p"),m._uU(3),m.qZA(),m.qZA()),2&e){const e=m.oxw();m.xp6(3),m.Oqu(e.event.Description)}}let se=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-event-details-content"]],inputs:{event:"event"},decls:2,vars:2,consts:[["fxLayout","row","fxLayoutGap","8px",4,"ngIf"],["fxLayout","row","fxLayoutGap","8px"],["icon","clock-outline"],["icon","menu-outline"]],template:function(e,t){1&e&&(m.YNc(0,re,6,8,"div",0),m.YNc(1,ae,4,1,"div",0)),2&e&&(m.Q6J("ngIf",t.event.StartTime&&t.event.EndTime),m.xp6(1),m.Q6J("ngIf",t.event.Description))},directives:[S.O5,_.xw,_.SQ,v.fMN],pipes:[S.uU],styles:[""]}),e})(),oe=(()=>{class e{constructor(e,t,n,i,r){this.dialogRef=e,this._eventService=t,this._agendaHelperService=n,this._dialogService=i,this._dialogServiceCustom=r,this.event=new u.m}ngOnInit(){}edit(){this._agendaHelperService.openEventFormDialog(this.event).onClose.subscribe(e=>{e&&this._eventService.save(e).subscribe()})}delete(){this._agendaHelperService.openConfirmActionDialog().onClose.subscribe(e=>{e.confirmed&&(this._eventService.delete(this.event.Meta.id).subscribe(),this.dialogRef.close())})}}return e.\u0275fac=function(t){return new(t||e)(m.Y36(v.X4l),m.Y36(f.P),m.Y36(ce),m.Y36(v.Gln),m.Y36(te.K))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-event-details"]],decls:6,vars:5,consts:[[3,"event","close","delete","edit"],[3,"event","fxFlex.gt-sm","fxFlex.lt-sm"]],template:function(e,t){1&e&&(m.TgZ(0,"nb-card"),m.TgZ(1,"nb-card-header"),m.TgZ(2,"app-event-details-header",0),m.NdJ("close",function(){return t.dialogRef.close()})("delete",function(){return t.delete()})("edit",function(){return t.edit()}),m._uU(3),m.qZA(),m.qZA(),m.TgZ(4,"nb-card-body"),m._UZ(5,"app-event-details-content",1),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Q6J("event",t.event),m.xp6(1),m.hij(" ",t.event.Subject," "),m.xp6(2),m.Q6J("event",t.event)("fxFlex.gt-sm","50vw")("fxFlex.lt-sm","100vw"))},directives:[v.Asz,v.ndF,ie,v.yKW,se,_.yH],styles:["app-event-details-content[_ngcontent-%COMP%]{padding:12px}"]}),e})();var le=n(5996);let ce=(()=>{class e{constructor(e,t,n){this._translateService=e,this._dialogService=t,this._dialogCustomService=n,this.refreshAgenda$=new i.X(null),this.isAgendaLoading=new i.X(!1),this._viewDate=new Date,this._views=["Day","Week","WorkWeek","Month","Year","Agenda"],this._timelineViews=["TimelineDay","TimelineWeek","TimelineWorkWeek","TimelineMonth","TimelineYear"],this._timeSlotDuration=[{name:"APP.AGENDA.FORM.SETTINGS.TIMESLOTS",value:15},{name:"APP.AGENDA.FORM.SETTINGS.TIMESLOTS",value:30},{name:"APP.AGENDA.FORM.SETTINGS.TIMESLOTS",value:60},{name:"APP.AGENDA.FORM.SETTINGS.TIMESLOTS",value:90},{name:"APP.AGENDA.FORM.SETTINGS.TIMESLOTS",value:120}],this._weekDays=[{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:0},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:1},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:2},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:3},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:4},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:5},{name:"APP.AGENDA.FORM.SETTINGS.DAYS",value:6}],this._currentViewDisplayed="Week",this._startTime=c(new Date,{hours:8,minutes:0}),this._endTime=c(new Date,{hours:17,minutes:0}),this._timeSlotDisplayed=this._timeSlotDuration[2],this._weekDaysDisplayed=this._weekDays,this._firstDayDisplayed=this._weekDays[1]}get startTime(){return this._startTime}set startTime(e){this._startTime=e,this.ejsSchedule.startHour=e.toDateString()}get endTime(){return this._endTime}set endTime(e){this._endTime=e,this.ejsSchedule.endHour=e.toDateString()}get viewDate(){return this._viewDate}set viewDate(e){this._viewDate=e}get views(){return this._views}set views(e){this._views=e}get timelineViews(){return this._timelineViews}set timelineViews(e){this._timelineViews=e}get timeSlotDuration(){return this._timeSlotDuration}set timeSlotDuration(e){this._timeSlotDuration=e}get weekDays(){return this._weekDays}get workDays(){return this._weekDays.map(e=>e.value)}set weekDays(e){this._weekDays=e}get currentViewDisplayed(){return this._currentViewDisplayed}set currentViewDisplayed(e){this._currentViewDisplayed=e}get timeSlotDisplayed(){return this._timeSlotDisplayed}set timeSlotDisplayed(e){this._timeSlotDisplayed=e,this.ejsSchedule.timeScale.interval=e.value}get weekDaysDisplayed(){return this._weekDaysDisplayed}set weekDaysDisplayed(e){this._weekDaysDisplayed=e}get firstDayDisplayed(){return this._firstDayDisplayed}set firstDayDisplayed(e){this._firstDayDisplayed=e,this.ejsSchedule.firstDayOfWeek=e.value}openEventDetailsDialog(e){return this._dialogService.open(oe,{context:{event:e},dialogClass:this._dialogCustomService.isFullscreen})}openEventFormDialog(e){return this._dialogService.open(ee,{context:{event:e},dialogClass:this._dialogCustomService.isFullscreen})}openConfirmActionDialog(){return this._dialogService.open(le.$,{dialogClass:this._dialogCustomService.isFullscreen})}}return e.\u0275fac=function(t){return new(t||e)(m.LFG(w.sK),m.LFG(v.Gln),m.LFG(te.K))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac}),e})()},8305:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ApplicationModule:()=>b});var i=n(1116),r=n(3917),a=n(4228),s=n(2445),o=n(9261),l=n(3337),c=n(5959),u=n(5366),d=n(5216),h=n(3973),p=n(5965),g=n(649);let m=(()=>{class e{constructor(e){this._nbThemeService=e,this.toggle=new u.vpe,this.logout=new u.vpe}ngOnInit(){}get isDarkTheme(){return"cosmic"===this._nbThemeService.currentTheme}toggleTheme(){this._nbThemeService.changeTheme("cosmic"===this._nbThemeService.currentTheme?"default":"cosmic"),sessionStorage.setItem("theme",this._nbThemeService.currentTheme)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(d.WMF))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-topbar"]],inputs:{nbSidebarComponent:"nbSidebarComponent"},outputs:{toggle:"toggle",logout:"logout"},decls:10,vars:12,consts:[["nbButton","","ghost","","status","primary","shape","semi-round","size","large",3,"click"],[3,"icon"],[3,"type","hint","placeholder","tag"],[3,"fxFlex"],["nbButton","","ghost","","status","primary","shape","semi-round","size","large",3,"routerLink","click"],["icon","power-outline"]],template:function(e,t){1&e&&(u.TgZ(0,"button",0),u.NdJ("click",function(){return t.toggle.emit()}),u._UZ(1,"nb-icon",1),u.qZA(),u._UZ(2,"nb-search",2),u.ALo(3,"translate"),u.ALo(4,"translate"),u._UZ(5,"span",3),u.TgZ(6,"button",0),u.NdJ("click",function(){return t.toggleTheme()}),u._UZ(7,"nb-icon",1),u.qZA(),u.TgZ(8,"button",4),u.NdJ("click",function(){return t.logout.emit()}),u._UZ(9,"nb-icon",5),u.qZA()),2&e&&(u.xp6(1),u.Q6J("icon",t.nbSidebarComponent.compacted?"menu-outline":"menu-arrow-outline"),u.xp6(1),u.Q6J("type","modal-zoomin")("hint",u.lcZ(3,8,"APP.SEARCH.HINT"))("placeholder",u.lcZ(4,10,"APP.SEARCH.PLACEHOLDER"))("tag","topbar-search"),u.xp6(3),u.Q6J("fxFlex","auto"),u.xp6(2),u.Q6J("icon",t.isDarkTheme?"sun-outline":"moon-outline"),u.xp6(1),u.Q6J("routerLink","/homepage"))},directives:[d.DPz,d.fMN,d.G$7,p.yH,l.rH],pipes:[g.X$],styles:[""]}),e})();var v=n(4762);let f=(()=>{class e{constructor(e){this._translateService=e,this._initItems()}ngOnInit(){}_initItems(){return(0,v.mG)(this,void 0,void 0,function*(){yield this._translateService.get("APPNAME").toPromise(),this.items=[{title:this._translateService.instant("APP.LEFT_MENU.DASHBOARD"),icon:"grid-outline",link:"/app/dashboard",pathMatch:"full"},{title:yield this._translateService.instant("APP.LEFT_MENU.AGENDA"),icon:"calendar-outline",link:"/app/agenda",pathMatch:"full"}]})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(g.sK))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-left-menu"]],decls:1,vars:1,consts:[["tag","left-menu",3,"items"]],template:function(e,t){1&e&&u._UZ(0,"nb-menu",0),2&e&&u.Q6J("items",t.items)},directives:[d.mBz],styles:[""]}),e})();var A=n(8270);function S(e,t){1&e&&u._UZ(0,"app-language-selector")}const T=[{path:"",component:(()=>{class e{constructor(e,t,n,i){this.sidebarService=e,this.loaderService=t,this._nbThemeService=n,this._authService=i,this.nbSidebarState="expanded",this._destroy=new c.xQ}ngOnInit(){this._initTheme()}ngOnDestroy(){this._destroy.next()}toggle(){this.sidebarService.toggle(!0,"left")}logout(){this._authService.logout()}_initTheme(){var e;this._nbThemeService.changeTheme(null!==(e=sessionStorage.getItem("theme"))&&void 0!==e?e:"default"),sessionStorage.setItem("theme",this._nbThemeService.currentTheme)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(d.lzT),u.Y36(o.D),u.Y36(d.WMF),u.Y36(h.e))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-template"]],decls:12,vars:7,consts:[["fixed",""],["fxFlex","auto","fxLayoutAlign","start center","fxLayoutGap","16px",3,"nbSidebarComponent","toggle","logout"],[3,"tag","responsive","stateChange"],["nbSidebarComponent",""],[4,"ngIf"],["nbSpinnerSize","giant","nbSpinnerStatus","primary",3,"nbSpinner"]],template:function(e,t){if(1&e&&(u.TgZ(0,"nb-layout"),u.TgZ(1,"nb-layout-header",0),u.TgZ(2,"app-topbar",1),u.NdJ("toggle",function(){return t.toggle()})("logout",function(){return t.logout()}),u.qZA(),u.qZA(),u.TgZ(3,"nb-sidebar",2,3),u.NdJ("stateChange",function(e){return t.nbSidebarState=e}),u._UZ(5,"app-left-menu"),u.TgZ(6,"nb-sidebar-footer"),u.YNc(7,S,1,0,"app-language-selector",4),u.qZA(),u.qZA(),u.TgZ(8,"nb-layout-column"),u.TgZ(9,"nb-card",5),u.ALo(10,"async"),u._UZ(11,"router-outlet"),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.MAs(4);u.xp6(2),u.Q6J("nbSidebarComponent",e),u.xp6(1),u.Q6J("tag","left")("responsive",!0),u.xp6(4),u.Q6J("ngIf","expanded"===t.nbSidebarState),u.xp6(2),u.Q6J("nbSpinner",u.lcZ(10,5,t.loaderService.isLoading$))}},directives:[d.Aqw,d.dmS,m,p.yH,p.Wh,p.SQ,d.nZR,f,d.A3Z,i.O5,d.dP_,d.Asz,d.Q7R,l.lC,A.S],pipes:[i.Ov],styles:["[_nghost-%COMP%]     nb-layout nb-layout-column{padding:1.5rem!important}[_nghost-%COMP%]     nb-layout nb-layout-column>nb-card{background:transparent!important;border:none!important}[_nghost-%COMP%]     nb-layout nb-layout-column nb-card{margin-bottom:0!important}[_nghost-%COMP%]     nb-layout nb-layout-footer nav{justify-content:flex-end!important}[_nghost-%COMP%]     nb-layout nb-sidebar.compacted nb-icon{margin:0!important}[_nghost-%COMP%]     .nebular-dialog{display:flex;align-items:center;place-content:center;min-width:20vw!important;max-width:80vw!important;max-height:80vh!important}[_nghost-%COMP%]     .nebular-dialog nb-card{height:100%!important;max-height:calc(100vh - 200px)!important}[_nghost-%COMP%]     .nebular-dialog-fullscreen{width:100vw!important;height:100vh!important}[_nghost-%COMP%]     .nebular-dialog-fullscreen nb-card{width:100vw!important;height:100%!important}"]}),e})(),children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadChildren:()=>n.e(848).then(n.bind(n,8848)).then(e=>e.DashboardModule)},{path:"agenda",loadChildren:()=>n.e(287).then(n.bind(n,7287)).then(e=>e.AgendaModule)},{path:"settings",loadChildren:()=>n.e(133).then(n.bind(n,133)).then(e=>e.SettingsModule)}]}];let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[l.Bz.forChild(T)],l.Bz]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[a.i,s.P,o.D],imports:[[i.ez,r.m,Z]]}),e})()},2709:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var i=n(9599);class r{constructor(e){this.id=0,this.day=null,this.startHour="08:00",this.endHour="17:00",this.hasBreak=!0,this.startBreak="12:00",this.endBreak="13:00",e?(Object.assign(this,e),(null==e?void 0:e.agenda)&&(this.agenda=new o(e.agenda))):Object.create(this)}}var a=n(7597);class s{constructor(e){var t,n,i;this.id=0,this.name=null,this.agendas=null,this.users=null,this.sharedAgendas=null,e?(Object.assign(this,e),(null===(t=null==e?void 0:e.agendas)||void 0===t?void 0:t.length)&&(this.agendas=e.agendas.map(e=>new o(e))),(null===(n=null==e?void 0:e.users)||void 0===n?void 0:n.length)&&(this.users=e.users.map(e=>new a.n(e))),(null===(i=null==e?void 0:e.sharedAgendas)||void 0===i?void 0:i.length)&&(this.sharedAgendas=e.sharedAgendas.map(e=>new o(e)))):Object.create(this)}}class o{constructor(e){var t,n,o,l,c;this.id=0,this.name=null,this.color="#de5c08",this.user=null,this.team=null,this.events=null,this.schedules=null,this.sharedEvents=null,this.sharedUsers=null,this.sharedTeams=null,e?(Object.assign(this,e),(null==e?void 0:e.user)&&(this.user=new a.n(e.user)),(null==e?void 0:e.team)&&(this.team=new s(e.team)),(null===(t=null==e?void 0:e.events)||void 0===t?void 0:t.length)&&(this.events=e.events.map(e=>new i.j(e))),(null===(n=null==e?void 0:e.schedules)||void 0===n?void 0:n.length)&&(this.schedules=e.schedules.map(e=>new r(e))),(null===(o=null==e?void 0:e.sharedEvents)||void 0===o?void 0:o.length)&&(this.sharedEvents=e.sharedEvents.map(e=>new i.j(e))),(null===(l=null==e?void 0:e.sharedUsers)||void 0===l?void 0:l.length)&&(this.sharedUsers=e.sharedUsers.map(e=>new a.n(e))),(null===(c=null==e?void 0:e.sharedTeams)||void 0===c?void 0:c.length)&&(this.sharedTeams=e.sharedTeams.map(e=>new s(e)))):Object.create(this)}}},9599:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var i=n(6941),r=n(2709),a=n(7597);class s{constructor(e){this.id=0,this.content=null,this.user=null,this.event=null,e?(Object.assign(this,e),(null==e?void 0:e.user)&&(this.user=new a.n(e.user)),(null==e?void 0:e.event)&&(this.event=new o(e.event))):Object.create(this)}}class o{constructor(e){var t,n;this.id=0,this.name=null,this.adayOff=!1,this.private=!1,this.statusDisplayed="FREE",this.eventType="APPOINTMENT",this.startDate=(new Date).toISOString(),this.endDate=(0,i.Z)(new Date,1).toISOString(),this.meetingUrl=null,this.report=null,this.agenda=null,this.comments=null,this.sharedAgendas=null,e?(Object.assign(this,e),this.agenda=new r.B(e.agenda),(null===(t=null==e?void 0:e.comments)||void 0===t?void 0:t.length)&&(this.comments=e.comments.map(e=>new s(e))),(null===(n=null==e?void 0:e.sharedAgendas)||void 0===n?void 0:n.length)&&(this.sharedAgendas=e.sharedAgendas.map(e=>new r.B(e)))):Object.create(this)}static transformIntoEvent(e){return new o(Object.assign(Object.assign({},e.Meta),{id:e.Id,startDate:e.StartTime,endDate:e.EndTime,name:e.Subject}))}}},7597:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});class i{constructor(e){var t;this.id=0,this.name=null,this.roles=null,e?(Object.assign(this,e),(null===(t=null==e?void 0:e.roles)||void 0===t?void 0:t.length)&&(this.roles=e.roles.map(e=>new r(e)))):Object.create(this)}}class r{constructor(e){var t,n;this.id=0,this.name=null,this.users=null,this.authorities=null,e?(Object.assign(this,e),(null===(t=null==e?void 0:e.users)||void 0===t?void 0:t.length)&&(this.users=e.users.map(e=>new a(e))),(null===(n=null==e?void 0:e.authorities)||void 0===n?void 0:n.length)&&(this.authorities=e.authorities.map(e=>new i(e)))):Object.create(this)}}class a{constructor(e){this.id=0,this.firstName=null,this.lastName=null,this.username=null,this.email=null,this.password=null,this.role=null,this.comments=null,this.agendas=null,this.teams=null,this.cards=null,this.sharedAgendas=null,e?(Object.assign(this,e),(null==e?void 0:e.role)&&(this.role=new r(e.role))):Object.create(this)}displayFormattedName(){return this.firstName+" "+this.lastName}}}}]);