"use strict";(self.webpackChunkMy_planning=self.webpackChunkMy_planning||[]).push([[306],{9306:(mt,x,l)=>{l.r(x),l.d(x,{SettingsModule:()=>ct});var m=l(8583),E=l(160),A=l(4655),e=l(7716);let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-settings"]],decls:1,vars:0,template:function(n,o){1&n&&e._UZ(0,"router-outlet")},directives:[A.lC],encapsulation:2}),t})();var _=l(8307),F=l(3442),b=l(9868),i=l(3679),s=l(2922),C=l(307),g=l(9344),u=l(9790),f=l(3822),h=l(831),q=l(6423),v=l(1938),L=l(8002),Q=l(2340),J=l(6082),k=l(1841);let D=(()=>{class t{constructor(n){this._http=n,this._baseUrl=(0,Q.U)()+"/role"}getRoles(){return this._http.get(`${this._baseUrl}`).pipe((0,L.U)(n=>n.map(o=>new J.u(o))))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(k.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=l(195),p=l(5618),N=l(2905);function Y(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function P(t,a){if(1&t&&(e.TgZ(0,"nb-error"),e.YNc(1,Y,3,3,"ng-container",5),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.form.get("firstName").errors.required)}}function M(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function w(t,a){if(1&t&&(e.TgZ(0,"nb-error"),e.YNc(1,M,3,3,"ng-container",5),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.form.get("lastName").errors.required)}}function G(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function $(t,a){if(1&t&&(e.TgZ(0,"nb-error"),e.YNc(1,G,3,3,"ng-container",5),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.form.get("organization").errors.required)}}function j(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function W(t,a){if(1&t&&(e.TgZ(0,"nb-error"),e.YNc(1,j,3,3,"ng-container",5),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.form.get("username").errors.required)}}function B(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function z(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.INPUT.ERRORS.FORMAT")," "))}function X(t,a){if(1&t&&(e.TgZ(0,"nb-error"),e.YNc(1,B,3,3,"ng-container",5),e.YNc(2,z,3,3,"ng-container",5),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.form.get("email").errors.required),e.xp6(1),e.Q6J("ngIf",n.form.get("email").errors.email)}}function K(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function V(t,a){if(1&t&&(e.TgZ(0,"nb-error"),e.YNc(1,K,3,3,"ng-container",5),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.form.get("password").errors.required)}}function H(t,a){if(1&t&&(e.TgZ(0,"nb-option",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=a.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",e.lcZ(2,2,"GLOBAL.ROLE."+n.name.toUpperCase())," ")}}function ee(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function te(t,a){if(1&t&&(e.TgZ(0,"nb-error"),e.YNc(1,ee,3,3,"ng-container",5),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.form.get("role").errors.required)}}function ne(t,a){if(1&t&&(e.TgZ(0,"nb-option",20),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n.name," ")}}function oe(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function ae(t,a){if(1&t&&(e.TgZ(0,"nb-error"),e.YNc(1,oe,3,3,"ng-container",5),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.form.get("teams").errors.required)}}let re=(()=>{class t{constructor(n,o){this._roleService=n,this._teamService=o,this.compareFn=(r,c)=>q.n.compareWith(r,c)}ngOnInit(){this.roles$=this._roleService.getRoles(),this.teams$=this._teamService.getUsersTeams()}checkFieldForError(n){return v.r.checkField(n,this.form)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(D),e.Y36(Z.U))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-form-content"]],inputs:{user:"user",form:"form"},decls:58,vars:74,consts:[[3,"formGroup"],["fxLayout","row","fxLayout.lt-md","column","fxLayoutAlign","start center","fxLayoutAlign.lt-md","center space-between","fxLayoutGap","8px"],["fxFlex","100%"],["for","firstname-input"],["id","firstname-input","type","text","nbInput","","fullWidth","",3,"formControlName","status"],[4,"ngIf"],["for","lastname-input"],["id","lastname-input","type","text","nbInput","","fullWidth","",3,"formControlName","status"],["for","organization-input"],["id","organization-input","type","text","nbInput","","fullWidth","",3,"formControlName","status"],["for","username-input"],["id","username-input","type","text","nbInput","","fullWidth","",3,"formControlName","status"],["for","email-input"],["id","email-input","type","email","nbInput","","fullWidth","",3,"formControlName","status"],["for","password-input"],["id","password-input","type","password","nbInput","","fullWidth","",3,"formControlName","status"],["for","role-select"],["id","role-select","fullWidth","",3,"status","formControlName","compareWith"],[3,"value",4,"ngFor","ngForOf"],["id","teams-select","multiple","","fullWidth","",3,"status","formControlName","compareWith"],[3,"value"]],template:function(n,o){1&n&&(e.TgZ(0,"form",0),e.TgZ(1,"div",1),e.TgZ(2,"nb-form-field",2),e.TgZ(3,"label",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",4),e.YNc(7,P,2,1,"nb-error",5),e.qZA(),e.TgZ(8,"nb-form-field",2),e.TgZ(9,"label",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",7),e.YNc(13,w,2,1,"nb-error",5),e.qZA(),e.qZA(),e.TgZ(14,"nb-form-field"),e.TgZ(15,"label",8),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",9),e.YNc(19,$,2,1,"nb-error",5),e.qZA(),e.TgZ(20,"nb-form-field"),e.TgZ(21,"label",10),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"input",11),e.YNc(25,W,2,1,"nb-error",5),e.qZA(),e.TgZ(26,"nb-form-field"),e.TgZ(27,"label",12),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"input",13),e.YNc(31,X,3,2,"nb-error",5),e.qZA(),e.TgZ(32,"nb-form-field"),e.TgZ(33,"label",14),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"input",15),e.TgZ(37,"small"),e.TgZ(38,"i"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.qZA(),e.YNc(41,V,2,1,"nb-error",5),e.qZA(),e.TgZ(42,"nb-form-field"),e.TgZ(43,"label",16),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"nb-select",17),e.YNc(47,H,3,4,"nb-option",18),e.ALo(48,"async"),e.qZA(),e.YNc(49,te,2,1,"nb-error",5),e.qZA(),e.TgZ(50,"nb-form-field"),e.TgZ(51,"label",16),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"nb-select",19),e.YNc(55,ne,2,2,"nb-option",18),e.ALo(56,"async"),e.qZA(),e.YNc(57,ae,2,1,"nb-error",5),e.qZA(),e.qZA()),2&n&&(e.Q6J("formGroup",o.form),e.xp6(1),e.Udp("margin-bottom",o.checkFieldForError("firstName")||o.checkFieldForError("lastName")?"32px":"16px"),e.xp6(3),e.Oqu(e.lcZ(5,52,"APP.CONFIGURATION.FORM.USER.FIRSTNAME")),e.xp6(2),e.Q6J("formControlName","firstName")("status",o.checkFieldForError("firstName")?"danger":"primary"),e.xp6(1),e.Q6J("ngIf",o.checkFieldForError("firstName")),e.xp6(3),e.Oqu(e.lcZ(11,54,"APP.CONFIGURATION.FORM.USER.LASTNAME")),e.xp6(2),e.Q6J("formControlName","lastName")("status",o.checkFieldForError("lastName")?"danger":"primary"),e.xp6(1),e.Q6J("ngIf",o.checkFieldForError("lastName")),e.xp6(1),e.Udp("margin-bottom",o.checkFieldForError("organization")?"32px":"16px"),e.xp6(2),e.Oqu(e.lcZ(17,56,"APP.CONFIGURATION.FORM.USER.ORGANIZATION")),e.xp6(2),e.Q6J("formControlName","organization")("status",o.checkFieldForError("organization")?"danger":"primary"),e.xp6(1),e.Q6J("ngIf",o.checkFieldForError("organization")),e.xp6(1),e.Udp("margin-bottom",o.checkFieldForError("username")?"32px":"16px"),e.xp6(2),e.Oqu(e.lcZ(23,58,"APP.CONFIGURATION.FORM.USER.USERNAME")),e.xp6(2),e.Q6J("formControlName","username")("status",o.checkFieldForError("username")?"danger":"primary"),e.xp6(1),e.Q6J("ngIf",o.checkFieldForError("username")),e.xp6(1),e.Udp("margin-bottom",o.checkFieldForError("email")?"32px":"16px"),e.xp6(2),e.Oqu(e.lcZ(29,60,"APP.CONFIGURATION.FORM.USER.EMAIL")),e.xp6(2),e.Q6J("formControlName","email")("status",o.checkFieldForError("email")?"danger":"primary"),e.xp6(1),e.Q6J("ngIf",o.checkFieldForError("email")),e.xp6(1),e.Udp("margin-bottom",o.checkFieldForError("password")?"32px":"16px"),e.xp6(2),e.Oqu(e.lcZ(35,62,"APP.CONFIGURATION.FORM.USER.PASSWORD")),e.xp6(2),e.Q6J("formControlName","password")("status",o.checkFieldForError("password")?"danger":"primary"),e.xp6(3),e.Oqu(e.lcZ(40,64,"APP.CONFIGURATION.FORM.USER.PASSWORD-HINT")),e.xp6(2),e.Q6J("ngIf",o.checkFieldForError("password")),e.xp6(1),e.Udp("margin-bottom",o.checkFieldForError("role")?"32px":"16px"),e.xp6(2),e.Oqu(e.lcZ(45,66,"APP.CONFIGURATION.FORM.USER.ROLE")),e.xp6(2),e.Q6J("status",o.checkFieldForError("role")?"danger":"primary")("formControlName","role")("compareWith",o.compareFn),e.xp6(1),e.Q6J("ngForOf",e.lcZ(48,68,o.roles$)),e.xp6(2),e.Q6J("ngIf",o.checkFieldForError("role")),e.xp6(1),e.Udp("margin-bottom",o.checkFieldForError("teams")?"32px":"16px"),e.xp6(2),e.Oqu(e.lcZ(53,70,"APP.CONFIGURATION.FORM.USER.TEAMS")),e.xp6(2),e.Q6J("status",o.checkFieldForError("teams")?"danger":"primary")("formControlName","teams")("compareWith",o.compareFn),e.xp6(1),e.Q6J("ngForOf",e.lcZ(56,72,o.teams$)),e.xp6(2),e.Q6J("ngIf",o.checkFieldForError("teams")))},directives:[i._Y,i.JL,i.sg,p.xw,p.Wh,p.SQ,s.jBG,p.yH,s.h8i,i.Fj,i.JJ,i.u,m.O5,s.rs,m.sg,N.C,s.q51],pipes:[u.X$,m.Ov],styles:[""]}),t})();var O=l(5688);function se(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"APP.CONFIGURATION.FORM.USER.UPDATE")," "))}function ie(t,a){1&t&&(e._uU(0),e.ALo(1,"translate")),2&t&&e.hij(" ",e.lcZ(1,1,"APP.CONFIGURATION.FORM.USER.CREATE")," ")}let le=(()=>{class t{constructor(n,o,r,c,d){this.dialogRef=n,this._userService=o,this._toastrService=r,this._translateService=c,this._authService=d,this.form=new i.cw({id:new i.NI(0,[i.kI.required]),firstName:new i.NI(null,[i.kI.required]),lastName:new i.NI(null,[i.kI.required]),organization:new i.NI({value:null,disabled:!0},[i.kI.required]),username:new i.NI({value:null,disabled:!0},[i.kI.required]),email:new i.NI(null,[i.kI.required,i.kI.email]),password:new i.NI(""),role:new i.NI(null,[i.kI.required]),teams:new i.NI([],[i.kI.required,i.kI.minLength(1)])})}ngAfterViewInit(){this._initForm()}submit(){this._userService.save(new F.n(Object.assign(Object.assign({},this.user),{id:this.form.value.id,firstName:this.form.value.firstName,lastName:this.form.value.lastName,organization:this.form.get("organization").value,username:this.form.get("username").value,email:this.form.value.email,password:this.form.value.password,role:this.form.value.role,teams:this.form.value.teams}))).subscribe(n=>{if(!n)return this.dialogRef.close();this._toastrService.success(this._translateService.instant("APP.CONFIGURATION.TOASTR.SUCCESS.SAVE")),this.dialogRef.close(n)},()=>this._toastrService.success(this._translateService.instant("APP.CONFIGURATION.TOASTR.ERRORS.SAVE")))}_initForm(){var n;this.form.patchValue({id:this.user.id,firstName:this.user.firstName,lastName:this.user.lastName,organization:this._authService.user.organization,username:this.user.username,email:this.user.email,role:this.user.role,teams:this.user.teams}),(null===(n=this.user)||void 0===n?void 0:n.id)||this.form.get("username").enable()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.X4l),e.Y36(C.K),e.Y36(g._W),e.Y36(u.sK),e.Y36(f.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-form"]],inputs:{user:"user"},decls:11,vars:5,consts:[[3,"close"],[4,"ngIf","ngIfElse"],["createTitle",""],[3,"user","form"],["userFormContentComponent",""],[3,"form","submit","close"]],template:function(n,o){if(1&n&&(e.TgZ(0,"nb-card"),e.TgZ(1,"nb-card-header"),e.TgZ(2,"app-dialog-header",0),e.NdJ("close",function(){return o.dialogRef.close()}),e.YNc(3,se,3,3,"ng-container",1),e.YNc(4,ie,2,3,"ng-template",null,2,e.W1O),e.qZA(),e.qZA(),e.TgZ(6,"nb-card-body"),e._UZ(7,"app-user-form-content",3,4),e.qZA(),e.TgZ(9,"nb-card-footer"),e.TgZ(10,"app-dialog-action-btn",5),e.NdJ("submit",function(){return o.submit()})("close",function(){return o.dialogRef.close()}),e.qZA(),e.qZA(),e.qZA()),2&n){const r=e.MAs(5);e.xp6(3),e.Q6J("ngIf",null==o.user?null:o.user.id)("ngIfElse",r),e.xp6(4),e.Q6J("user",o.user)("form",o.form),e.xp6(3),e.Q6J("form",o.form)}},directives:[s.Asz,s.ndF,h.A,m.O5,s.yKW,re,s.XWE,O.D],pipes:[u.X$],styles:[""]}),t})();var ce=l(6827),I=l(5176);function me(t,a){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.xp6(1),e.Oqu(n.name)}}function pe(t,a){if(1&t&&(e.TgZ(0,"div",6),e.TgZ(1,"span",4),e._uU(2,"Teams :"),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,me,2,1,"span",7),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngForOf",n.user.teams)}}function ue(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.name)," ")}}function _e(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",n.user.displayFormattedName()," ")}}function de(t,a){if(1&t&&e._uU(0),2&t){const n=e.oxw(2).$implicit;e.hij(" ",n.team.name," ")}}function ge(t,a){if(1&t&&(e.YNc(0,_e,2,1,"ng-container",10),e.YNc(1,de,1,1,"ng-template",null,12,e.W1O)),2&t){const n=e.MAs(2),o=e.oxw().$implicit;e.Q6J("ngIf",o.user)("ngIfElse",n)}}function fe(t,a){if(1&t&&(e.TgZ(0,"app-agenda-label",9),e.YNc(1,ue,3,3,"ng-container",10),e.YNc(2,ge,3,2,"ng-template",null,11,e.W1O),e.qZA()),2&t){const n=a.$implicit,o=e.MAs(3);e.Q6J("agenda",n),e.xp6(1),e.Q6J("ngIf",n.byDefault)("ngIfElse",o)}}function he(t,a){if(1&t&&(e.TgZ(0,"div",6),e.TgZ(1,"span",4),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,fe,4,3,"app-agenda-label",8),e.ALo(6,"async"),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"APP.CONFIGURATION.USERS.DETAILS.AGENDA")),e.xp6(3),e.Q6J("ngForOf",e.lcZ(6,4,n.userAgendas$))}}function Te(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.name)," ")}}function Ae(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",n.user.displayFormattedName()," ")}}function Ce(t,a){if(1&t&&e._uU(0),2&t){const n=e.oxw(2).$implicit;e.hij(" ",n.team.name," ")}}function Ze(t,a){if(1&t&&(e.YNc(0,Ae,2,1,"ng-container",10),e.YNc(1,Ce,1,1,"ng-template",null,12,e.W1O)),2&t){const n=e.MAs(2),o=e.oxw().$implicit;e.Q6J("ngIf",o.user)("ngIfElse",n)}}function Ue(t,a){if(1&t&&(e.TgZ(0,"app-agenda-label",9),e.YNc(1,Te,3,3,"ng-container",10),e.YNc(2,Ze,3,2,"ng-template",null,11,e.W1O),e.qZA()),2&t){const n=a.$implicit,o=e.MAs(3);e.Q6J("agenda",n),e.xp6(1),e.Q6J("ngIf",n.byDefault)("ngIfElse",o)}}function xe(t,a){if(1&t&&(e.TgZ(0,"div",6),e.TgZ(1,"span",4),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,Ue,4,3,"app-agenda-label",8),e.ALo(6,"async"),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"APP.CONFIGURATION.USERS.DETAILS.SHAREDAGENDAS")),e.xp6(3),e.Q6J("ngForOf",e.lcZ(6,4,n.userSharedAgendas$))}}let Fe=(()=>{class t{constructor(n,o){this.dialogRef=n,this._agendaService=o}ngOnInit(){this.userAgendas$=this._agendaService.getUserAgendas(this.user.id),this.userSharedAgendas$=this._agendaService.getUserSharedAgendas(this.user.id)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.X4l),e.Y36(ce.i))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-details"]],inputs:{user:"user"},decls:37,vars:34,consts:[[3,"close"],["fxLayout","column","fxLayoutGap","8px"],["fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","8px"],["showInitials","true","showName","false",3,"name"],[1,"section-title"],["fxLayout","row","fxLayoutAlign","start start","fxLayoutGap","8px",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start start","fxLayoutGap","8px"],[4,"ngFor","ngForOf"],[3,"agenda",4,"ngFor","ngForOf"],[3,"agenda"],[4,"ngIf","ngIfElse"],["userLabel",""],["teamLabel",""]],template:function(n,o){if(1&n&&(e.TgZ(0,"nb-card"),e.TgZ(1,"nb-card-header"),e.TgZ(2,"app-dialog-header",0),e.NdJ("close",function(){return o.dialogRef.close()}),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"nb-card-body",1),e.TgZ(7,"div",2),e._UZ(8,"nb-user",3),e.TgZ(9,"div"),e.TgZ(10,"span",4),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._uU(13),e.ALo(14,"titlecase"),e.qZA(),e.TgZ(15,"div"),e.TgZ(16,"span",4),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._uU(19),e.ALo(20,"titlecase"),e.qZA(),e.TgZ(21,"div"),e.TgZ(22,"span",4),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"div"),e.TgZ(27,"span",4),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.qZA(),e.YNc(32,pe,5,1,"div",5),e.YNc(33,he,7,6,"div",5),e.ALo(34,"async"),e.YNc(35,xe,7,6,"div",5),e.ALo(36,"async"),e.qZA(),e.qZA()),2&n){let r,c;e.xp6(4),e.AsE("",e.lcZ(5,14,"APP.CONFIGURATION.USERS.DETAILS.TITLE")," ",o.user.displayFormattedName(),""),e.xp6(4),e.Q6J("name",o.user.displayFormattedName()),e.xp6(3),e.hij(" ",e.lcZ(12,16,"APP.CONFIGURATION.USERS.DETAILS.FIRSTNAME")," "),e.xp6(2),e.hij(" ",e.lcZ(14,18,o.user.firstName)," "),e.xp6(4),e.hij(" ",e.lcZ(18,20,"APP.CONFIGURATION.USERS.DETAILS.LASTNAME")," "),e.xp6(2),e.hij(" ",e.lcZ(20,22,o.user.lastName)," "),e.xp6(4),e.hij(" ",e.lcZ(24,24,"APP.CONFIGURATION.USERS.DETAILS.EMAIL")," "),e.xp6(2),e.hij(" ",o.user.email," "),e.xp6(3),e.hij(" ",e.lcZ(29,26,"APP.CONFIGURATION.USERS.DETAILS.ROLE.LABEL")," "),e.xp6(2),e.hij(" ",e.lcZ(31,28,"GLOBAL.ROLE."+o.user.role.name.toUpperCase())," "),e.xp6(2),e.Q6J("ngIf",!(null==o.user.teams||!o.user.teams.length)),e.xp6(1),e.Q6J("ngIf",!(null==(r=e.lcZ(34,30,o.userAgendas$))||!r.length)),e.xp6(2),e.Q6J("ngIf",!(null==(c=e.lcZ(36,32,o.userSharedAgendas$))||!c.length))}},directives:[s.Asz,s.ndF,h.A,s.yKW,p.xw,p.SQ,p.Wh,s.k0$,m.O5,m.sg,I.A],pipes:[u.X$,m.rS,m.Ov],styles:["[_nghost-%COMP%]   span.section-title[_ngcontent-%COMP%]{font-weight:600}"]}),t})();var S=l(7397),T=l(4568);let be=(()=>{class t{constructor(){this.checkOnChange=new e.vpe}isChecked(){return-1!==this.selectedUsers.findIndex(n=>n.id===this.user.id)}onCheckedChanged(n){this.checkOnChange.emit({checked:n,data:this.user})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-card"]],inputs:{user:"user",selectedUsers:"selectedUsers"},outputs:{checkOnChange:"checkOnChange"},decls:4,vars:4,consts:[[3,"checked","checkedChange"],["checkbox",""],["size","medium",3,"name"]],template:function(n,o){1&n&&(e.TgZ(0,"nb-card"),e.TgZ(1,"nb-checkbox",0,1),e.NdJ("checkedChange",function(c){return o.onCheckedChanged(c)}),e._UZ(3,"nb-user",2),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.Udp("padding","12px"),e.Q6J("checked",o.isChecked()),e.xp6(2),e.Q6J("name",o.user.displayFormattedName()))},directives:[s.Asz,s.NTf,s.k0$],styles:[""]}),t})();function ve(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"app-user-card",9),e.NdJ("checkOnChange",function(r){return e.CHM(n),e.oxw(2).onCheckedChange(r)}),e.qZA()}if(2&t){const n=a.$implicit,o=e.oxw(2);e.Q6J("user",n)("selectedUsers",o.selectedUsers)}}function Ne(t,a){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",7),e.YNc(2,ve,1,2,"app-user-card",8),e.qZA(),e.qZA()),2&t){const n=a.ngIf;e.xp6(2),e.Q6J("ngForOf",n)}}let Oe=(()=>{class t{constructor(n,o,r,c,d,U){this._userService=n,this._nbDialogService=o,this._nbDialogCustomService=r,this._toastrService=c,this._translateService=d,this._authService=U,this.selectedUsers=new Array}ngOnInit(){this._refreshUsers()}details(){this._userService.getUser(this.selectedUsers[0].id).pipe((0,_.b)(n=>{this._nbDialogService.open(Fe,{context:{user:n},dialogClass:this._nbDialogCustomService.isFullscreen,closeOnEsc:!0,closeOnBackdropClick:!0})})).subscribe()}addUser(){this._openForm(new F.n)}editUser(){!this.selectedUsers.length||this._userService.getUser(this.selectedUsers[0].id).pipe((0,_.b)(n=>{this._openForm(n)})).subscribe()}delete(){this._nbDialogService.open(b.$,{dialogClass:this._nbDialogCustomService.isFullscreen}).onClose.subscribe(n=>{!n.confirmed||this._userService.delete(this.selectedUsers[0]).subscribe(o=>{o&&this._toastrService.success(this._translateService.instant("APP.CONFIGURATION.TOASTR.SUCCESS.DELETE")),this._refreshUsers()},()=>this._toastrService.error(this._translateService.instant("APP.CONFIGURATION.TOASTR.ERROR.DELETE")))})}onCheckedChange(n){const o=this.selectedUsers.findIndex(r=>r.id===n.data.id);-1===o||n.checked?this.selectedUsers.push(n.data):this.selectedUsers.splice(o,1)}selfSelected(){return-1!==this.selectedUsers.findIndex(n=>n.id===this._authService.user.id)}_refreshUsers(){this.users$=this._userService.getUsers().pipe((0,_.b)(()=>this.selectedUsers=[]))}_openForm(n){this._nbDialogService.open(le,{context:{user:n},dialogClass:this._nbDialogCustomService.isFullscreen}).onClose.subscribe(o=>{!o||this._refreshUsers()})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C.K),e.Y36(s.Gln),e.Y36(S.K),e.Y36(g._W),e.Y36(u.sK),e.Y36(f.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-configuration"]],decls:15,vars:10,consts:[["fxLayoutAlign","space-between center"],["fxLayoutAlign","start center","fxLayoutGap","12px"],["nbButton","","ghost","","size","small","shape","round","status","primary",3,"disabled","click"],[3,"icon"],["nbButton","","ghost","","size","small","shape","round","status","danger",3,"disabled","click"],["nbButton","","outline","","size","small","shape","round","status","primary",3,"click"],[4,"ngIf"],["gdColumns","repeat(auto-fill, minmax(300px, 1fr))","gdColumns.lt-sm","1fr","gdGap","12px"],[3,"user","selectedUsers","checkOnChange",4,"ngFor","ngForOf"],[3,"user","selectedUsers","checkOnChange"]],template:function(n,o){1&n&&(e.TgZ(0,"nb-card"),e.TgZ(1,"nb-card-header",0),e.TgZ(2,"div",1),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.details()}),e._UZ(4,"nb-icon",3),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.editUser()}),e._UZ(6,"nb-icon",3),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return o.delete()}),e._UZ(8,"nb-icon",3),e.qZA(),e.qZA(),e.TgZ(9,"div"),e.TgZ(10,"button",5),e.NdJ("click",function(){return o.addUser()}),e._UZ(11,"nb-icon",3),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"nb-card-body"),e.YNc(13,Ne,3,1,"div",6),e.ALo(14,"async"),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("disabled",!(null!=o.selectedUsers&&o.selectedUsers.length)||1!==o.selectedUsers.length),e.xp6(1),e.Q6J("icon","eye-outline"),e.xp6(1),e.Q6J("disabled",!(null!=o.selectedUsers&&o.selectedUsers.length)||1!==o.selectedUsers.length),e.xp6(1),e.Q6J("icon","edit-outline"),e.xp6(1),e.Q6J("disabled",!(null!=o.selectedUsers&&o.selectedUsers.length)||o.selfSelected()),e.xp6(1),e.Q6J("icon","trash-outline"),e.xp6(3),e.Q6J("icon","plus-outline"),e.xp6(2),e.Q6J("ngIf",e.lcZ(14,8,o.users$)))},directives:[s.Asz,s.ndF,p.Wh,p.SQ,s.DPz,s.fMN,s.yKW,m.O5,T.OY,T.O7,m.sg,be],pipes:[m.Ov],styles:[""]}),t})();var R=l(9164),Ie=l(9765),Se=l(5917),Re=l(6782),Ee=l(5304);function ye(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function qe(t,a){if(1&t&&(e.TgZ(0,"nb-error"),e.YNc(1,ye,3,3,"ng-container",3),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.form.get("name").errors.required)}}function Le(t,a){if(1&t&&(e._UZ(0,"nb-tag",7),e.ALo(1,"lowercase")),2&t){const n=a.$implicit,o=e.oxw();e.Q6J("text",e.lcZ(1,2,n.email))("removable",!o.isCurrentUser(n))}}function Qe(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.INPUT.ERRORS.REQUIRED")," "))}function Je(t,a){if(1&t&&(e.TgZ(0,"nb-error"),e.YNc(1,Qe,3,3,"ng-container",3),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.form.get("name").errors.required)}}let ke=(()=>{class t{constructor(n,o,r,c){this._userService=n,this._toastrService=o,this._translateService=r,this._authService=c,this._destroy$=new Ie.xQ}ngOnInit(){}ngOnDestroy(){this._destroy$.next()}checkFieldForError(n){return v.r.checkField(n,this.form)}getUsers(){return this.form.value.users}onUserRemove({text:n}){const o=this.form.value.users,r=o.findIndex(c=>c.email===n);-1!==r&&(o.splice(r,1),this.form.patchValue({users:o}))}onUserAdd({value:n,input:o}){if(console.log(n),n){const r=this.form.value.users;this._userService.getUser(n).pipe((0,Re.R)(this._destroy$),(0,_.b)(c=>{-1===r.findIndex(d=>d.id===c.id)?(r.push(c),this.form.patchValue({users:r})):this._toastrService.error(this._translateService.instant("APP.AGENDA.TOASTR.ERROR.ALREADY_IN")),o.nativeElement.value=""}),(0,Ee.K)(c=>(this._toastrService.error(this._translateService.instant("APP.AGENDA.TOASTR.ERROR.NOT_FOUND")),(0,Se.of)(c)))).subscribe()}}isCurrentUser(n){return this._authService.user.id===n.id}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C.K),e.Y36(g._W),e.Y36(u.sK),e.Y36(f.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-team-form-content"]],inputs:{team:"team",form:"form"},decls:19,vars:20,consts:[[3,"formGroup"],["for","name-input"],["id","name-input","type","text","nbInput","","fullWidth","","placeholder","Nom",3,"formControlName","status"],[4,"ngIf"],[3,"tagRemove"],[3,"text","removable",4,"ngFor","ngForOf"],["type","text","nbTagInput","","fullWidth","",3,"status","tagAdd"],[3,"text","removable"]],template:function(n,o){1&n&&(e.TgZ(0,"form",0),e.TgZ(1,"nb-form-field"),e.TgZ(2,"label",1),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",2),e.YNc(6,qe,2,1,"nb-error",3),e.qZA(),e.TgZ(7,"nb-form-field"),e.TgZ(8,"label",1),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"nb-tag-list",4),e.NdJ("tagRemove",function(c){return o.onUserRemove(c)}),e.YNc(12,Le,2,4,"nb-tag",5),e.TgZ(13,"input",6),e.NdJ("tagAdd",function(c){return o.onUserAdd(c)}),e.qZA(),e.qZA(),e.TgZ(14,"small"),e.TgZ(15,"i"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.qZA(),e.YNc(18,Je,2,1,"nb-error",3),e.qZA(),e.qZA()),2&n&&(e.Q6J("formGroup",o.form),e.xp6(1),e.Udp("margin-bottom",o.checkFieldForError("name")?"32px":"16px"),e.xp6(2),e.Oqu(e.lcZ(4,14,"APP.CONFIGURATION.FORM.TEAM.NAME")),e.xp6(2),e.Q6J("formControlName","name")("status",o.checkFieldForError("name")?"danger":"primary"),e.xp6(1),e.Q6J("ngIf",o.checkFieldForError("name")),e.xp6(1),e.Udp("margin-bottom",o.checkFieldForError("sharedUSers")?"32px":"16px"),e.xp6(2),e.Oqu(e.lcZ(10,16,"APP.CONFIGURATION.FORM.TEAM.USERS")),e.xp6(3),e.Q6J("ngForOf",o.getUsers()),e.xp6(1),e.Q6J("status",o.checkFieldForError("users")?"danger":"primary"),e.xp6(3),e.Oqu(e.lcZ(17,18,"APP.CONFIGURATION.FORM.TEAM.HINT-USERS")),e.xp6(2),e.Q6J("ngIf",o.checkFieldForError("sharedUsers")))},directives:[i._Y,i.JL,i.sg,s.jBG,s.h8i,i.Fj,i.JJ,i.u,m.O5,s.d0f,m.sg,s.yk,N.C,s.c2L],pipes:[u.X$,m.i8],styles:[""]}),t})();function De(t,a){1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"APP.CONFIGURATION.FORM.TEAM.UPDATE")," "))}function Ye(t,a){1&t&&(e._uU(0),e.ALo(1,"translate")),2&t&&e.hij(" ",e.lcZ(1,1,"APP.CONFIGURATION.FORM.TEAM.CREATE")," ")}let Pe=(()=>{class t{constructor(n,o,r,c){this.dialogRef=n,this._teamService=o,this._toastrService=r,this._translateService=c,this.form=new i.cw({name:new i.NI(null,[i.kI.required]),users:new i.NI([],[i.kI.minLength(1)])})}ngAfterViewInit(){this._initForm()}submit(){this._teamService.save(new R.S(Object.assign(Object.assign({},this.team),{name:this.form.value.name,users:this.form.value.users}))).subscribe(n=>{if(!n)return this.dialogRef.close();this._toastrService.success(this._translateService.instant("APP.CONFIGURATION.TOASTR.SUCCESS.SAVE")),this.dialogRef.close(n)},()=>this._toastrService.success(this._translateService.instant("APP.CONFIGURATION.TOASTR.ERRORS.SAVE")))}_initForm(){this.form.patchValue({name:this.team.name,users:this.team.users})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.X4l),e.Y36(Z.U),e.Y36(g._W),e.Y36(u.sK))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-team-form"]],inputs:{team:"team"},decls:11,vars:5,consts:[[3,"close"],[4,"ngIf","ngIfElse"],["createTitle",""],[3,"team","form"],["teamFormContentComponent",""],[3,"form","submit","close"]],template:function(n,o){if(1&n&&(e.TgZ(0,"nb-card"),e.TgZ(1,"nb-card-header"),e.TgZ(2,"app-dialog-header",0),e.NdJ("close",function(){return o.dialogRef.close()}),e.YNc(3,De,3,3,"ng-container",1),e.YNc(4,Ye,2,3,"ng-template",null,2,e.W1O),e.qZA(),e.qZA(),e.TgZ(6,"nb-card-body"),e._UZ(7,"app-team-form-content",3,4),e.qZA(),e.TgZ(9,"nb-card-footer"),e.TgZ(10,"app-dialog-action-btn",5),e.NdJ("submit",function(){return o.submit()})("close",function(){return o.dialogRef.close()}),e.qZA(),e.qZA(),e.qZA()),2&n){const r=e.MAs(5);e.xp6(3),e.Q6J("ngIf",null==o.team?null:o.team.id)("ngIfElse",r),e.xp6(4),e.Q6J("team",o.team)("form",o.form),e.xp6(3),e.Q6J("form",o.form)}},directives:[s.Asz,s.ndF,h.A,m.O5,s.yKW,ke,s.XWE,O.D],pipes:[u.X$],styles:[""]}),t})();function Me(t,a){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.xp6(1),e.Oqu(n.displayFormattedName())}}function we(t,a){if(1&t&&(e.TgZ(0,"div",5),e.TgZ(1,"span",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,Me,2,1,"span",6),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"APP.CONFIGURATION.TEAMS.DETAILS.USERS")),e.xp6(3),e.Q6J("ngForOf",n.team.users)}}function Ge(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.name)," ")}}function $e(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",n.user.displayFormattedName()," ")}}function je(t,a){if(1&t&&e._uU(0),2&t){const n=e.oxw(2).$implicit;e.hij(" ",n.team.name," ")}}function We(t,a){if(1&t&&(e.YNc(0,$e,2,1,"ng-container",9),e.YNc(1,je,1,1,"ng-template",null,11,e.W1O)),2&t){const n=e.MAs(2),o=e.oxw().$implicit;e.Q6J("ngIf",o.user)("ngIfElse",n)}}function Be(t,a){if(1&t&&(e.TgZ(0,"app-agenda-label",8),e.YNc(1,Ge,3,3,"ng-container",9),e.YNc(2,We,3,2,"ng-template",null,10,e.W1O),e.qZA()),2&t){const n=a.$implicit,o=e.MAs(3);e.Q6J("agenda",n),e.xp6(1),e.Q6J("ngIf",n.byDefault)("ngIfElse",o)}}function ze(t,a){if(1&t&&(e.TgZ(0,"div",5),e.TgZ(1,"span",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,Be,4,3,"app-agenda-label",7),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"APP.CONFIGURATION.TEAMS.DETAILS.AGENDA")),e.xp6(3),e.Q6J("ngForOf",n.team.agendas)}}function Xe(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.name)," ")}}function Ke(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",n.user.displayFormattedName()," ")}}function Ve(t,a){if(1&t&&e._uU(0),2&t){const n=e.oxw(2).$implicit;e.hij(" ",n.team.name," ")}}function He(t,a){if(1&t&&(e.YNc(0,Ke,2,1,"ng-container",9),e.YNc(1,Ve,1,1,"ng-template",null,11,e.W1O)),2&t){const n=e.MAs(2),o=e.oxw().$implicit;e.Q6J("ngIf",o.user)("ngIfElse",n)}}function et(t,a){if(1&t&&(e.TgZ(0,"app-agenda-label",8),e.YNc(1,Xe,3,3,"ng-container",9),e.YNc(2,He,3,2,"ng-template",null,10,e.W1O),e.qZA()),2&t){const n=a.$implicit,o=e.MAs(3);e.Q6J("agenda",n),e.xp6(1),e.Q6J("ngIf",n.byDefault)("ngIfElse",o)}}function tt(t,a){if(1&t&&(e.TgZ(0,"div",5),e.TgZ(1,"span",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,et,4,3,"app-agenda-label",7),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"APP.CONFIGURATION.TEAMS.DETAILS.SHAREDAGENDAS")),e.xp6(3),e.Q6J("ngForOf",n.team.sharedAgendas)}}let nt=(()=>{class t{constructor(n){this.dialogRef=n}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.X4l))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-team-details"]],inputs:{team:"team"},decls:17,vars:13,consts:[[3,"close"],["fxLayout","column","fxLayoutGap","8px"],["fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","8px"],[1,"section-title"],["fxLayout","row","fxLayoutAlign","start start","fxLayoutGap","8px",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start start","fxLayoutGap","8px"],[4,"ngFor","ngForOf"],[3,"agenda",4,"ngFor","ngForOf"],[3,"agenda"],[4,"ngIf","ngIfElse"],["userLabel",""],["teamLabel",""]],template:function(n,o){1&n&&(e.TgZ(0,"nb-card"),e.TgZ(1,"nb-card-header"),e.TgZ(2,"app-dialog-header",0),e.NdJ("close",function(){return o.dialogRef.close()}),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"nb-card-body",1),e.TgZ(7,"div",2),e.TgZ(8,"div"),e.TgZ(9,"span",3),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._uU(12),e.ALo(13,"titlecase"),e.qZA(),e.qZA(),e.YNc(14,we,6,4,"div",4),e.YNc(15,ze,6,4,"div",4),e.YNc(16,tt,6,4,"div",4),e.qZA(),e.qZA()),2&n&&(e.xp6(4),e.AsE("",e.lcZ(5,7,"APP.CONFIGURATION.TEAMS.DETAILS.TITLE")," ",o.team.name,""),e.xp6(6),e.hij(" ",e.lcZ(11,9,"APP.CONFIGURATION.TEAMS.DETAILS.NAME")," "),e.xp6(2),e.hij(" ",e.lcZ(13,11,o.team.name)," "),e.xp6(2),e.Q6J("ngIf",!(null==o.team.users||!o.team.users.length)),e.xp6(1),e.Q6J("ngIf",!(null==o.team.agendas||!o.team.agendas.length)),e.xp6(1),e.Q6J("ngIf",!(null==o.team.sharedAgendas||!o.team.sharedAgendas.length)))},directives:[s.Asz,s.ndF,h.A,s.yKW,p.xw,p.SQ,p.Wh,m.O5,m.sg,I.A],pipes:[u.X$,m.rS],styles:[""]}),t})(),ot=(()=>{class t{constructor(){this.checkOnChange=new e.vpe}isChecked(){return-1!==this.selectedTeams.findIndex(n=>n.id===this.team.id)}onCheckedChanged(n){this.checkOnChange.emit({checked:n,data:this.team})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-team-card"]],inputs:{team:"team",selectedTeams:"selectedTeams"},outputs:{checkOnChange:"checkOnChange"},decls:5,vars:4,consts:[[3,"checked","checkedChange"],["checkbox",""]],template:function(n,o){1&n&&(e.TgZ(0,"nb-card"),e.TgZ(1,"nb-checkbox",0,1),e.NdJ("checkedChange",function(c){return o.onCheckedChanged(c)}),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.Udp("padding","12px"),e.Q6J("checked",o.isChecked()),e.xp6(3),e.Oqu(o.team.name))},directives:[s.Asz,s.NTf],styles:[""]}),t})();function at(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"app-team-card",9),e.NdJ("checkOnChange",function(r){return e.CHM(n),e.oxw(2).onCheckedChange(r)}),e.qZA()}if(2&t){const n=a.$implicit,o=e.oxw(2);e.Q6J("team",n)("selectedTeams",o.selectedTeams)}}function rt(t,a){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",7),e.YNc(2,at,1,2,"app-team-card",8),e.qZA(),e.qZA()),2&t){const n=a.ngIf;e.xp6(2),e.Q6J("ngForOf",n)}}const st=[{path:"",component:y,children:[{path:"",redirectTo:"users"},{path:"users",component:Oe,pathMatch:"full"},{path:"teams",component:(()=>{class t{constructor(n,o,r,c,d,U){this._teamService=n,this._nbDialogService=o,this._nbDialogCustomService=r,this._toastrService=c,this._translateService=d,this._authService=U,this.selectedTeams=new Array}ngOnInit(){this._refreshTeams()}details(){this._teamService.getTeam(this.selectedTeams[0].id).pipe((0,_.b)(n=>{this._nbDialogService.open(nt,{context:{team:n},dialogClass:this._nbDialogCustomService.isFullscreen,closeOnEsc:!0,closeOnBackdropClick:!0})})).subscribe()}addTeam(){this._openForm(new R.S({users:[this._authService.user]}))}editTeam(){!this.selectedTeams.length||this._teamService.getTeam(this.selectedTeams[0].id).pipe((0,_.b)(n=>{this._openForm(n)})).subscribe()}delete(){this._nbDialogService.open(b.$,{dialogClass:this._nbDialogCustomService.isFullscreen}).onClose.subscribe(n=>{!n.confirmed||this._teamService.delete(this.selectedTeams[0]).subscribe(o=>{o&&this._toastrService.success(this._translateService.instant("APP.CONFIGURATION.TOASTR.SUCCESS.DELETE")),this._refreshTeams()},()=>this._toastrService.error(this._translateService.instant("APP.CONFIGURATION.TOASTR.ERROR.DELETE")))})}onCheckedChange(n){const o=this.selectedTeams.findIndex(r=>r.id===n.data.id);-1===o||n.checked?this.selectedTeams.push(n.data):this.selectedTeams.splice(o,1)}_refreshTeams(){this.teams$=this._teamService.getUsersTeams().pipe((0,_.b)(()=>this.selectedTeams=[]))}_openForm(n){this._nbDialogService.open(Pe,{context:{team:n},dialogClass:this._nbDialogCustomService.isFullscreen}).onClose.subscribe(o=>{!o||this._refreshTeams()})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(Z.U),e.Y36(s.Gln),e.Y36(S.K),e.Y36(g._W),e.Y36(u.sK),e.Y36(f.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-team-configuration"]],decls:15,vars:10,consts:[["fxLayoutAlign","space-between center"],["fxLayoutAlign","start center","fxLayoutGap","12px"],["nbButton","","ghost","","size","small","shape","round","status","primary",3,"disabled","click"],[3,"icon"],["nbButton","","ghost","","size","small","shape","round","status","danger",3,"disabled","click"],["nbButton","","outline","","size","small","shape","round","status","primary",3,"click"],[4,"ngIf"],["gdColumns","repeat(auto-fill, minmax(300px, 1fr))","gdColumns.lt-sm","1fr","gdGap","12px"],[3,"team","selectedTeams","checkOnChange",4,"ngFor","ngForOf"],[3,"team","selectedTeams","checkOnChange"]],template:function(n,o){1&n&&(e.TgZ(0,"nb-card"),e.TgZ(1,"nb-card-header",0),e.TgZ(2,"div",1),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.details()}),e._UZ(4,"nb-icon",3),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.editTeam()}),e._UZ(6,"nb-icon",3),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return o.delete()}),e._UZ(8,"nb-icon",3),e.qZA(),e.qZA(),e.TgZ(9,"div"),e.TgZ(10,"button",5),e.NdJ("click",function(){return o.addTeam()}),e._UZ(11,"nb-icon",3),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"nb-card-body"),e.YNc(13,rt,3,1,"div",6),e.ALo(14,"async"),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("disabled",!(null!=o.selectedTeams&&o.selectedTeams.length)||1!==o.selectedTeams.length),e.xp6(1),e.Q6J("icon","eye-outline"),e.xp6(1),e.Q6J("disabled",!(null!=o.selectedTeams&&o.selectedTeams.length)||1!==o.selectedTeams.length),e.xp6(1),e.Q6J("icon","edit-outline"),e.xp6(1),e.Q6J("disabled",!(null!=o.selectedTeams&&o.selectedTeams.length)),e.xp6(1),e.Q6J("icon","trash-outline"),e.xp6(3),e.Q6J("icon","plus-outline"),e.xp6(2),e.Q6J("ngIf",e.lcZ(14,8,o.teams$)))},directives:[s.Asz,s.ndF,p.Wh,p.SQ,s.DPz,s.fMN,s.yKW,m.O5,T.OY,T.O7,m.sg,ot],pipes:[m.Ov],styles:[""]}),t})(),pathMatch:"full"}]}];let it=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[A.Bz.forChild(st)],A.Bz]}),t})();var lt=l(2484);let ct=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,lt.m,it,E.AgendaModule]]}),t})()}}]);